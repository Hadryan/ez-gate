

Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44801&keyword=m1&content=m1" for 127.0.0.1 at 2012-05-03 09:14:32 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44801", "keyword"=>"m1", "content"=>"m1"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44801' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 1', '2012-05-03 07:14:32', '44801', 0, '+250788460106', 3, 'pending', 'Vodacom DRC', '', '2012-05-03 07:14:32', 2)[0m
  [1m[35m (60.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1


Started GET "/service_manager/get_ringtone?id=1&origin=%2B250788460106&destination=44801&message=m+1&service=3" for 127.0.0.1 at 2012-05-03 09:14:34 +0200
  Processing by ServiceManagerController#get_ringtone as */*
  Parameters: {"id"=>"1", "origin"=>"+250788460106", "destination"=>"44801", "message"=>"m 1", "service"=>"3"}
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` WHERE (keyword like '%1%') LIMIT 1[0m
Rendered service_manager/get_ringtone.html.erb (10.0ms)
Completed 200 OK in 170ms (Views: 70.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'success', `updated_at` = '2012-05-03 07:14:34' WHERE `inbound_messages`.`id` = 122
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (10.0ms)
Completed 200 OK in 1960ms (Views: 170.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=122&user_id=2&service=M&dest=+250788460106&sender=44801&content=Sonnerie+non+disponible&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 09:14:34 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"122", "user_id"=>"2", "service"=>"M", "dest"=>" 250788460106", "sender"=>"44801", "content"=>"Sonnerie non disponible", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Sonnerie non disponible', '2012-05-03 07:14:34', ' 250788460106', 122, '44801', 'M', 'delivered', 'delivered', '2012-05-03 07:14:34', 2)[0m
  [1m[35m (70.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 120ms (Views: 20.0ms | ActiveRecord: 70.0ms)


Started GET "/service_manager/record_push?inbound_id=122&user_id=2&service=M&dest=+250788460106&sender=44801&content=Sonnerie+non+disponible&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 09:14:34 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"122", "user_id"=>"2", "service"=>"M", "dest"=>" 250788460106", "sender"=>"44801", "content"=>"Sonnerie non disponible", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Sonnerie non disponible', '2012-05-03 07:14:34', ' 250788460106', 122, '44801', 'M', 'submitted', 'submitted', '2012-05-03 07:14:34', 2)
  [1m[36m (40.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 10.0ms | ActiveRecord: 50.0ms)


Started GET "/" for 127.0.0.1 at 2012-05-03 09:14:50 +0200
  Processing by HomeController#index as HTML
Rendered home/index.html.erb within layouts/home (30.0ms)
Completed 200 OK in 180ms (Views: 180.0ms | ActiveRecord: 0.0ms)


Started GET "/login/login" for 127.0.0.1 at 2012-05-03 09:14:53 +0200
  Processing by LoginController#login as HTML
Rendered login/login.html.erb within layouts/application (0.0ms)
Completed 200 OK in 150ms (Views: 60.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 09:14:54 +0200
Served asset /main.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 09:14:54 +0200
Served asset /jquery.js - 200 OK (0ms)


Started GET "/login/ezgate.ico" for 127.0.0.1 at 2012-05-03 09:14:54 +0200
  Processing by LoginController#show as 
  Parameters: {"id"=>"ezgate"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` IS NULL LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 20ms


Started GET "/login/ezgate.ico" for 127.0.0.1 at 2012-05-03 09:14:54 +0200
  Processing by LoginController#show as 
  Parameters: {"id"=>"ezgate"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` IS NULL LIMIT 1
Redirected to http://localhost:3000/
Completed 302 Found in 10ms


Started GET "/" for 127.0.0.1 at 2012-05-03 09:14:54 +0200
  Processing by HomeController#index as HTML
Rendered home/index.html.erb within layouts/home (0.0ms)
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started POST "/login/login" for 127.0.0.1 at 2012-05-03 09:14:57 +0200
  Processing by LoginController#login as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/qChSs+Jx3LmJIwUyWL8MaVsHmumAZS+waYcLd6vkzM=", "username"=>"sa", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (user_short_codes.user_id = 1)[0m
Redirected to http://localhost:3000/messages
Completed 302 Found in 160ms


Started GET "/messages" for 127.0.0.1 at 2012-05-03 09:14:58 +0200
  Processing by MessagesController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` [0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())
Rendered messages/index.html.erb within layouts/application (20.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 100ms (Views: 80.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 09:14:58 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 09:14:58 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/ezgate.ico" for 127.0.0.1 at 2012-05-03 09:14:58 +0200

ActionController::RoutingError (No route matches [GET] "/ezgate.ico"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.0ms)


Started GET "/ezgate.ico" for 127.0.0.1 at 2012-05-03 09:14:58 +0200

ActionController::RoutingError (No route matches [GET] "/ezgate.ico"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-03 09:15:00 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.0ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (20.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 110ms (Views: 70.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 09:15:00 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 09:15:00 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/ezgate.ico" for 127.0.0.1 at 2012-05-03 09:15:00 +0200
  Processing by MessagesController#show as 
  Parameters: {"id"=>"ezgate"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
Rendered messages/show.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 80ms (Views: 70.0ms | ActiveRecord: 0.0ms)


Started GET "/messages/ezgate.ico" for 127.0.0.1 at 2012-05-03 09:15:01 +0200
  Processing by MessagesController#show as 
  Parameters: {"id"=>"ezgate"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
Rendered messages/show.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 50ms (Views: 40.0ms | ActiveRecord: 0.0ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-03 09:15:12 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/qChSs+Jx3LmJIwUyWL8MaVsHmumAZS+waYcLd6vkzM=", "message"=>{"dest"=>"2", "phone_single"=>"+243828757080", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"test"}, "send_message"=>"Send message"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (10.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 60ms


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-03 09:15:12 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.0ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (30.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 90ms (Views: 30.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 09:15:12 +0200
Served asset /main.css - 304 Not Modified (10ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 09:15:12 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-03 09:15:49 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/qChSs+Jx3LmJIwUyWL8MaVsHmumAZS+waYcLd6vkzM=", "message"=>{"dest"=>"2", "phone_single"=>"+243818757080", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"test"}, "send_message"=>"Send message"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 70ms


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243818757080&sender=44800&content=test&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 09:15:50 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243818757080", "sender"=>"44800", "content"=>"test", "smsc"=>"FAKE", "status"=>"1"}


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-03 09:15:50 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35m (20.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 07:15:50', ' 243818757080', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-03 07:15:50', 1)[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.0ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (20.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35m (80.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 160ms (Views: 0.0ms | ActiveRecord: 110.0ms)
Completed 200 OK in 100ms (Views: 50.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243818757080&sender=44800&content=test&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 09:15:50 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243818757080", "sender"=>"44800", "content"=>"test", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 07:15:50', ' 243818757080', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-03 07:15:50', 1)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 09:15:50 +0200
Served asset /main.css - 304 Not Modified (0ms)
  [1m[36m (450.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 480ms (Views: 10.0ms | ActiveRecord: 450.0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 09:15:50 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages" for 127.0.0.1 at 2012-05-03 09:15:58 +0200
  Processing by MessagesController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` [0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())
Rendered messages/index.html.erb within layouts/application (10.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 90ms (Views: 60.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 09:15:58 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 09:15:58 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/ksmsgw/?user=test&pass=test" for 127.0.0.1 at 2012-05-03 09:42:17 +0200

ActionController::RoutingError (No route matches [GET] "/ksmsgw"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (30.0ms)


Started GET "/ksmsgw/?user=test&pass=test" for 127.0.0.1 at 2012-05-03 09:42:48 +0200

ActionController::RoutingError (No route matches [GET] "/ksmsgw"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (30.0ms)


Started GET "/ksmsgw/?user=test&pass=test" for 127.0.0.1 at 2012-05-03 09:47:03 +0200

ActionController::RoutingError (No route matches [GET] "/ksmsgw"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (30.0ms)


Started GET "/ksmsgw/?user=test&pass=test" for 127.0.0.1 at 2012-05-03 09:47:41 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"test", "pass"=>"test"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered messages/send_sms_service.html.erb within layouts/application (10.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 130ms (Views: 130.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 09:47:42 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 09:47:42 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/ksmsgw/ezgate.ico" for 127.0.0.1 at 2012-05-03 09:47:42 +0200

ActionController::RoutingError (No route matches [GET] "/ksmsgw/ezgate.ico"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.0ms)


Started GET "/ksmsgw/ezgate.ico" for 127.0.0.1 at 2012-05-03 09:47:42 +0200

ActionController::RoutingError (No route matches [GET] "/ksmsgw/ezgate.ico"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.0ms)


Started GET "/ksmsgw/?user=test&pass=test" for 127.0.0.1 at 2012-05-03 09:48:18 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"test", "pass"=>"test"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 40ms (Views: 0.0ms | ActiveRecord: 20.0ms)


Started GET "/ksmsgw/?user=test&pass=test&to=250788460106&text=test" for 127.0.0.1 at 2012-05-03 09:48:43 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"test", "pass"=>"test", "to"=>"250788460106", "text"=>"test"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 0.0ms | ActiveRecord: 20.0ms)


Started GET "/ksmsgw/?user=test&pass=test&to=250788460106&text=test&from=44801" for 127.0.0.1 at 2012-05-03 09:49:08 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"test", "pass"=>"test", "to"=>"250788460106", "text"=>"test", "from"=>"44801"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1
Completed 500 Internal Server Error in 50ms

NoMethodError (undefined method `authenticate' for #<Class:0x00000004f39090>):
  app/controllers/messages_controller.rb:502:in `send_sms_service'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (10.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.0ms)


Started GET "/ksmsgw/?user=test&pass=test&to=250788460106&text=test&from=44801" for 127.0.0.1 at 2012-05-03 09:50:48 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"test", "pass"=>"test", "to"=>"250788460106", "text"=>"test", "from"=>"44801"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'test' LIMIT 1[0m
Completed 500 Internal Server Error in 50ms

NoMethodError (undefined method `user' for nil:NilClass):
  app/controllers/messages_controller.rb:503:in `send_sms_service'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (0.0ms)


Started GET "/ksmsgw/?user=test&pass=test&to=250788460106&text=test&from=44801" for 127.0.0.1 at 2012-05-03 09:52:40 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"test", "pass"=>"test", "to"=>"250788460106", "text"=>"test", "from"=>"44801"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'test' LIMIT 1
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 110ms (Views: 0.0ms | ActiveRecord: 10.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=250788460106&text=test&from=44801" for 127.0.0.1 at 2012-05-03 09:55:09 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"250788460106", "text"=>"test", "from"=>"44801"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (10.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 500 Internal Server Error in 70ms

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.[]):
  app/controllers/messages_controller.rb:506:in `send_sms_service'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (0.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=250788460106&text=test&from=44801" for 127.0.0.1 at 2012-05-03 09:55:35 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"250788460106", "text"=>"test", "from"=>"44801"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 40ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-03 09:55:52 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (10.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.0ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (70.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 140ms (Views: 100.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 09:55:52 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 09:55:52 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=+243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 09:56:05 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>" 243818757080", "text"=>"test", "from"=>"44801"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 70ms (Views: 10.0ms | ActiveRecord: 10.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 09:56:21 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"243818757080", "text"=>"test", "from"=>"44801"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 130ms (Views: 10.0ms | ActiveRecord: 20.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=243818757080&sender=44801&content=test&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 09:56:21 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>"243818757080", "sender"=>"44801", "content"=>"test", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 07:56:22', '243818757080', 0, '44801', 'push', 'delivered', 'delivered', '2012-05-03 07:56:22', 1)[0m
  [1m[35m (130.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 140ms (Views: 0.0ms | ActiveRecord: 130.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=243818757080&sender=44801&content=test&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 09:56:22 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>"243818757080", "sender"=>"44801", "content"=>"test", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 07:56:22', '243818757080', 0, '44801', 'push', 'submitted', 'submitted', '2012-05-03 07:56:22', 1)
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 60ms (Views: 0.0ms | ActiveRecord: 50.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=+243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 09:56:25 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>" 243818757080", "text"=>"test", "from"=>"44801"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 40ms (Views: 0.0ms | ActiveRecord: 10.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 09:56:34 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"243818757080", "text"=>"test", "from"=>"44801"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (10.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1
  [1m[36mUserDetail Load (10.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 120ms (Views: 10.0ms | ActiveRecord: 20.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=243818757080&sender=44801&content=test&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 09:56:34 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>"243818757080", "sender"=>"44801", "content"=>"test", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 07:56:34', '243818757080', 0, '44801', 'push', 'delivered', 'delivered', '2012-05-03 07:56:34', 1)[0m
  [1m[35m (130.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 150ms (Views: 10.0ms | ActiveRecord: 130.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=243818757080&sender=44801&content=test&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 09:56:35 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>"243818757080", "sender"=>"44801", "content"=>"test", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 07:56:35', '243818757080', 0, '44801', 'push', 'submitted', 'submitted', '2012-05-03 07:56:35', 1)
  [1m[36m (60.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 0.0ms | ActiveRecord: 60.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 09:57:37 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"243818757080", "text"=>"test", "from"=>"44801"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 140ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=243818757080&sender=44801&content=test&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 09:57:37 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>"243818757080", "sender"=>"44801", "content"=>"test", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 07:57:38', '243818757080', 0, '44801', 'push', 'delivered', 'delivered', '2012-05-03 07:57:38', 1)[0m
  [1m[35m (80.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (10.0ms)
Completed 200 OK in 160ms (Views: 10.0ms | ActiveRecord: 90.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=243818757080&sender=44801&content=test&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 09:57:38 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>"243818757080", "sender"=>"44801", "content"=>"test", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 07:57:38', '243818757080', 0, '44801', 'push', 'submitted', 'submitted', '2012-05-03 07:57:38', 1)
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 10.0ms | ActiveRecord: 50.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=243818757080&text=test&from=4420" for 127.0.0.1 at 2012-05-03 09:57:47 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"243818757080", "text"=>"test", "from"=>"4420"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '4420' LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 500 Internal Server Error in 60ms

NoMethodError (undefined method `smsc' for nil:NilClass):
  app/controllers/messages_controller.rb:468:in `send_sms'
  app/controllers/messages_controller.rb:508:in `send_sms_service'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (10.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=243818757080&text=test&from=4420" for 127.0.0.1 at 2012-05-03 10:11:44 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"243818757080", "text"=>"test", "from"=>"4420"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '4420' LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1[0m
Completed 500 Internal Server Error in 20ms

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/messages_controller.rb:504:in `send_sms_service'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=243818757080&text=test&from=4420" for 127.0.0.1 at 2012-05-03 10:13:51 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"243818757080", "text"=>"test", "from"=>"4420"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '4420' LIMIT 1[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=243818757080&text=test&from=" for 127.0.0.1 at 2012-05-03 10:13:57 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"243818757080", "text"=>"test", "from"=>""}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '' LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1[0m
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 10:14:05 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"243818757080", "text"=>"test", "from"=>"44801"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1[0m
  [1m[35mUserDetail Load (10.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1
  [1m[36mUserShortCode Load (0.0ms)[0m  [1mSELECT `user_short_codes`.* FROM `user_short_codes` WHERE `user_short_codes`.`user_id` = 1 AND `user_short_codes`.`short_code_id` = 3 LIMIT 1[0m
Completed 500 Internal Server Error in 30ms

NoMethodError (undefined method `name' for #<UserDetail:0x00000004954260>):
  app/controllers/messages_controller.rb:528:in `send_sms_service'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (0.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 10:14:24 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"243818757080", "text"=>"test", "from"=>"44801"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1
  [1m[36mUserShortCode Load (10.0ms)[0m  [1mSELECT `user_short_codes`.* FROM `user_short_codes` WHERE `user_short_codes`.`user_id` = 1 AND `user_short_codes`.`short_code_id` = 3 LIMIT 1[0m
Completed 500 Internal Server Error in 30ms

NoMethodError (undefined method `name' for nil:NilClass):
  app/controllers/messages_controller.rb:528:in `send_sms_service'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (10.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 10:16:13 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"243818757080", "text"=>"test", "from"=>"44801"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1
  [1m[36mUser Load (10.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` WHERE `user_short_codes`.`user_id` = 1 AND `user_short_codes`.`short_code_id` = 3 LIMIT 1
Completed 500 Internal Server Error in 130ms

NoMethodError (undefined method `name' for #<UserDetail:0x0000000488b888>):
  app/controllers/messages_controller.rb:528:in `send_sms_service'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (0.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 10:16:23 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"243818757080", "text"=>"test", "from"=>"44801"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mUserShortCode Load (0.0ms)[0m  [1mSELECT `user_short_codes`.* FROM `user_short_codes` WHERE `user_short_codes`.`user_id` = 1 AND `user_short_codes`.`short_code_id` = 3 LIMIT 1[0m
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 70ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 10:17:45 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"243818757080", "text"=>"test", "from"=>"44801"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 40ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 10:17:46 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"243818757080", "text"=>"test", "from"=>"44801"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 60ms (Views: 0.0ms | ActiveRecord: 20.0ms)


Started GET "/ksmsgw/?user=sa&pass=123456&to=243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 10:18:41 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"sa", "pass"=>"123456", "to"=>"243818757080", "text"=>"test", "from"=>"44801"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (10.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 70ms (Views: 0.0ms | ActiveRecord: 10.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=243818757080&sender=44801&content=test&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 10:18:41 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>"243818757080", "sender"=>"44801", "content"=>"test", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 08:18:41', '243818757080', 0, '44801', 'push', 'delivered', 'delivered', '2012-05-03 08:18:41', 1)[0m
  [1m[35m (70.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 100ms (Views: 10.0ms | ActiveRecord: 70.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=243818757080&sender=44801&content=test&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 10:18:41 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>"243818757080", "sender"=>"44801", "content"=>"test", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 08:18:41', '243818757080', 0, '44801', 'push', 'submitted', 'submitted', '2012-05-03 08:18:41', 1)
  [1m[36m (60.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 0.0ms | ActiveRecord: 60.0ms)


Started GET "/users" for 127.0.0.1 at 2012-05-03 10:18:52 +0200
  Processing by UsersController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` [0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE (user_id = '1' and parent=true) LIMIT 1
  [1m[36mUserShortCode Load (0.0ms)[0m  [1mSELECT `user_short_codes`.* FROM `user_short_codes` WHERE (user_id = 1)[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE (user_id = '2' and parent=true) LIMIT 1
  [1m[36mUserShortCode Load (0.0ms)[0m  [1mSELECT `user_short_codes`.* FROM `user_short_codes` WHERE (user_id = 2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
Rendered users/_list_users.html.erb (100.0ms)
Rendered users/index.html.erb within layouts/application (120.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 160ms (Views: 120.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 10:18:53 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 10:18:53 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/login/logout" for 127.0.0.1 at 2012-05-03 10:19:01 +0200
  Processing by LoginController#logout as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
Redirected to http://localhost:3000/login/login
Completed 302 Found in 100ms


Started GET "/login/login" for 127.0.0.1 at 2012-05-03 10:19:01 +0200
  Processing by LoginController#login as HTML
Rendered login/login.html.erb within layouts/application (10.0ms)
Completed 200 OK in 10ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 10:19:01 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 10:19:02 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/login/login" for 127.0.0.1 at 2012-05-03 10:19:07 +0200
  Processing by LoginController#login as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NkWiu1xxd92ccznQ2NI4cYTzuEMpmPTBERxxyNifbwM=", "username"=>"voda", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'voda' LIMIT 1[0m
Rendered login/login.html.erb within layouts/application (0.0ms)
Completed 200 OK in 20ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 10:19:07 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 10:19:07 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/login/login" for 127.0.0.1 at 2012-05-03 10:19:13 +0200
  Processing by LoginController#login as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NkWiu1xxd92ccznQ2NI4cYTzuEMpmPTBERxxyNifbwM=", "username"=>"vodacom", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'vodacom' LIMIT 1
Rendered login/login.html.erb within layouts/application (0.0ms)
Completed 200 OK in 30ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 10:19:13 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 10:19:13 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/login/login" for 127.0.0.1 at 2012-05-03 10:19:18 +0200
  Processing by LoginController#login as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NkWiu1xxd92ccznQ2NI4cYTzuEMpmPTBERxxyNifbwM=", "username"=>"voda", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'voda' LIMIT 1[0m
Rendered login/login.html.erb within layouts/application (10.0ms)
Completed 200 OK in 20ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 10:19:18 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 10:19:18 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/login/login" for 127.0.0.1 at 2012-05-03 10:19:23 +0200
  Processing by LoginController#login as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NkWiu1xxd92ccznQ2NI4cYTzuEMpmPTBERxxyNifbwM=", "username"=>"sa", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (user_short_codes.user_id = 1)
Redirected to http://localhost:3000/messages
Completed 302 Found in 70ms


Started GET "/messages" for 127.0.0.1 at 2012-05-03 10:19:23 +0200
  Processing by MessagesController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` 
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())[0m
Rendered messages/index.html.erb within layouts/application (40.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 100ms (Views: 60.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 10:19:23 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 10:19:23 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/users" for 127.0.0.1 at 2012-05-03 10:19:26 +0200
  Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` 
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE (user_id = '1' and parent=true) LIMIT 1[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` WHERE (user_id = 1)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE (user_id = '2' and parent=true) LIMIT 1[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` WHERE (user_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
Rendered users/_list_users.html.erb (50.0ms)
Rendered users/index.html.erb within layouts/application (50.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 60ms (Views: 50.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 10:19:26 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 10:19:26 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/users/edit_user?id=2" for 127.0.0.1 at 2012-05-03 10:19:28 +0200
  Processing by UsersController#edit_user as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUserDetail Load (10.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
Rendered users/edit_user.html.erb within layouts/application (10.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 40ms (Views: 30.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 10:19:28 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 10:19:28 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/users/ezgate.ico" for 127.0.0.1 at 2012-05-03 10:19:28 +0200

AbstractController::ActionNotFound (The action 'show' could not be found for UsersController):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.0ms)


Started GET "/users/ezgate.ico" for 127.0.0.1 at 2012-05-03 10:19:29 +0200

AbstractController::ActionNotFound (The action 'show' could not be found for UsersController):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.0ms)


Started POST "/users/change_password?id=2" for 127.0.0.1 at 2012-05-03 10:19:34 +0200
  Processing by UsersController#change_password as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NkWiu1xxd92ccznQ2NI4cYTzuEMpmPTBERxxyNifbwM=", "user_detail"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Change", "id"=>"2"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 2 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  SELECT 1 FROM `user_details` WHERE (`user_details`.`username` = BINARY 'voda' AND `user_details`.`id` != 2) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mUPDATE `user_details` SET `salt` = '383087800.7744760415322167', `hashed_password` = 'c352b1b5b04db1c94c556fec7457a4301bce4b63', `updated_at` = '2012-05-03 08:19:34' WHERE `user_details`.`id` = 2[0m
  [1m[35m (40.0ms)[0m  COMMIT
Redirected to http://localhost:3000/users
Completed 302 Found in 80ms


Started GET "/users" for 127.0.0.1 at 2012-05-03 10:19:34 +0200
  Processing by UsersController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` 
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE (user_id = '1' and parent=true) LIMIT 1[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` WHERE (user_id = 1)
  [1m[36mShortCode Load (10.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE (user_id = '2' and parent=true) LIMIT 1[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` WHERE (user_id = 2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
Rendered users/_list_users.html.erb (70.0ms)
Rendered users/index.html.erb within layouts/application (70.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 80ms (Views: 50.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 10:19:34 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 10:19:34 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/users/edit_user_profile?id=2" for 127.0.0.1 at 2012-05-03 10:19:36 +0200
  Processing by UsersController#edit_user_profile as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE (user_id='2' and parent=true) LIMIT 1[0m
Rendered users/edit_user_profile.html.erb within layouts/application (30.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 60ms (Views: 50.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 10:19:37 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 10:19:37 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/login/logout" for 127.0.0.1 at 2012-05-03 10:19:39 +0200
  Processing by LoginController#logout as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Redirected to http://localhost:3000/login/login
Completed 302 Found in 50ms


Started GET "/login/login" for 127.0.0.1 at 2012-05-03 10:19:39 +0200
  Processing by LoginController#login as HTML
Rendered login/login.html.erb within layouts/application (0.0ms)
Completed 200 OK in 10ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 10:19:39 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 10:19:39 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/login/login" for 127.0.0.1 at 2012-05-03 10:19:44 +0200
  Processing by LoginController#login as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+6rx/kLSbHysqkaCEM1Iqe7hVamiaTz45+JrP+FGVdc=", "username"=>"voda", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'voda' LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (user_short_codes.user_id = 2)
Redirected to http://localhost:3000/messages
Completed 302 Found in 40ms


Started GET "/messages" for 127.0.0.1 at 2012-05-03 10:19:44 +0200
  Processing by MessagesController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 2 LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE (user_id = '2')
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())[0m
Rendered messages/index.html.erb within layouts/application (40.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Completed 200 OK in 80ms (Views: 60.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 10:19:44 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 10:19:44 +0200
Served asset /jquery.js - 304 Not Modified (10ms)


Started GET "/messages" for 127.0.0.1 at 2012-05-03 10:19:52 +0200
  Processing by MessagesController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 2 LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE (user_id = '2')
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())[0m
Rendered messages/index.html.erb within layouts/application (10.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
Completed 200 OK in 60ms (Views: 40.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 10:19:52 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 10:19:52 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/login/logout" for 127.0.0.1 at 2012-05-03 10:19:55 +0200
  Processing by LoginController#logout as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 2 LIMIT 1[0m
Redirected to http://localhost:3000/login/login
Completed 302 Found in 100ms


Started GET "/login/login" for 127.0.0.1 at 2012-05-03 10:19:55 +0200
  Processing by LoginController#login as HTML
Rendered login/login.html.erb within layouts/application (0.0ms)
Completed 200 OK in 10ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 10:19:55 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 10:19:55 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/ksmsgw/?user=voda&pass=voda123&to=243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 10:20:09 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"voda", "pass"=>"voda123", "to"=>"243818757080", "text"=>"test", "from"=>"44801"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` IS NULL LIMIT 1
Redirected to http://localhost:3000/
Completed 302 Found in 10ms


Started GET "/" for 127.0.0.1 at 2012-05-03 10:20:09 +0200
  Processing by HomeController#index as HTML
Rendered home/index.html.erb within layouts/home (0.0ms)
Completed 200 OK in 20ms (Views: 20.0ms | ActiveRecord: 0.0ms)


Started GET "/ksmsgw/?user=voda&pass=voda123&to=243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 10:20:27 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"voda", "pass"=>"voda123", "to"=>"243818757080", "text"=>"test", "from"=>"44801"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` IS NULL LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 10ms


Started GET "/" for 127.0.0.1 at 2012-05-03 10:20:28 +0200
  Processing by HomeController#index as HTML
Rendered home/index.html.erb within layouts/home (0.0ms)
Completed 200 OK in 10ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/ksmsgw/?user=voda&pass=voda123&to=243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 10:21:15 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"voda", "pass"=>"voda123", "to"=>"243818757080", "text"=>"test", "from"=>"44801"}
Redirected to http://localhost:3000/
Completed 302 Found in 0ms


Started GET "/" for 127.0.0.1 at 2012-05-03 10:21:15 +0200
  Processing by HomeController#index as HTML
Rendered home/index.html.erb within layouts/home (0.0ms)
Completed 200 OK in 10ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/ksmsgw/?user=voda&pass=voda123&to=243818757080&text=test&from=44801" for 127.0.0.1 at 2012-05-03 10:21:36 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"voda", "pass"=>"voda123", "to"=>"243818757080", "text"=>"test", "from"=>"44801"}
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44801' LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'voda' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUserShortCode Load (0.0ms)[0m  [1mSELECT `user_short_codes`.* FROM `user_short_codes` WHERE `user_short_codes`.`user_id` = 2 AND `user_short_codes`.`short_code_id` = 3 LIMIT 1[0m
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 70ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/ksmsgw/?user=voda&pass=voda123&to=243818757080&text=test&from=44800" for 127.0.0.1 at 2012-05-03 10:21:43 +0200
  Processing by MessagesController#send_sms_service as HTML
  Parameters: {"user"=>"voda", "pass"=>"voda123", "to"=>"243818757080", "text"=>"test", "from"=>"44800"}
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`code` = '44800' LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'voda' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mUserShortCode Load (0.0ms)[0m  [1mSELECT `user_short_codes`.* FROM `user_short_codes` WHERE `user_short_codes`.`user_id` = 2 AND `user_short_codes`.`short_code_id` = 2 LIMIT 1[0m
Rendered messages/send_sms_service.html.erb (0.0ms)
Completed 200 OK in 80ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=&service=push&dest=243818757080&sender=44800&content=test&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 10:21:43 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"", "service"=>"push", "dest"=>"243818757080", "sender"=>"44800", "content"=>"test", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 08:21:43', '243818757080', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-03 08:21:43', NULL)[0m
Mysql2::Error: Column 'user_id' cannot be null: INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 08:21:43', '243818757080', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-03 08:21:43', NULL)
  [1m[35m (0.0ms)[0m  ROLLBACK
Completed 500 Internal Server Error in 10ms

ActiveRecord::StatementInvalid (Mysql2::Error: Column 'user_id' cannot be null: INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 08:21:43', '243818757080', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-03 08:21:43', NULL)):
  app/controllers/service_manager_controller.rb:242:in `record_push'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (0.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=&service=push&dest=243818757080&sender=44800&content=test&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 10:21:43 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"", "service"=>"push", "dest"=>"243818757080", "sender"=>"44800", "content"=>"test", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 08:21:43', '243818757080', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-03 08:21:43', NULL)
Mysql2::Error: Column 'user_id' cannot be null: INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 08:21:43', '243818757080', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-03 08:21:43', NULL)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
Completed 500 Internal Server Error in 20ms

ActiveRecord::StatementInvalid (Mysql2::Error: Column 'user_id' cannot be null: INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('test', '2012-05-03 08:21:43', '243818757080', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-03 08:21:43', NULL)):
  app/controllers/service_manager_controller.rb:242:in `record_push'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (0.0ms)


Started GET "/" for 127.0.0.1 at 2012-05-03 15:16:09 +0200
  Processing by HomeController#index as HTML
Rendered home/index.html.erb within layouts/home (0.0ms)
Completed 200 OK in 10ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/login/login" for 127.0.0.1 at 2012-05-03 15:16:13 +0200
  Processing by LoginController#login as HTML
Rendered login/login.html.erb within layouts/application (10.0ms)
Completed 200 OK in 10ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:16:13 +0200
Served asset /main.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:16:13 +0200
Served asset /jquery.js - 200 OK (0ms)


Started GET "/login/ezgate.ico" for 127.0.0.1 at 2012-05-03 15:16:13 +0200
  Processing by LoginController#show as 
  Parameters: {"id"=>"ezgate"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` IS NULL LIMIT 1
Redirected to http://localhost:3000/
Completed 302 Found in 10ms


Started GET "/login/ezgate.ico" for 127.0.0.1 at 2012-05-03 15:16:13 +0200
  Processing by LoginController#show as 
  Parameters: {"id"=>"ezgate"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` IS NULL LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 10ms


Started GET "/" for 127.0.0.1 at 2012-05-03 15:16:13 +0200
  Processing by HomeController#index as HTML
Rendered home/index.html.erb within layouts/home (0.0ms)
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started POST "/login/login" for 127.0.0.1 at 2012-05-03 15:16:17 +0200
  Processing by LoginController#login as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lL0XFKrKp3Mo6fyok3hcOwPWmT6wzF1SZPdj68sZcAQ=", "username"=>"sa", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (user_short_codes.user_id = 1)
Redirected to http://localhost:3000/messages
Completed 302 Found in 80ms


Started GET "/messages" for 127.0.0.1 at 2012-05-03 15:16:17 +0200
  Processing by MessagesController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` 
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())[0m
Rendered messages/index.html.erb within layouts/application (20.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 90ms (Views: 70.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:16:17 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:16:17 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/ezgate.ico" for 127.0.0.1 at 2012-05-03 15:16:17 +0200

ActionController::RoutingError (No route matches [GET] "/ezgate.ico"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (10.0ms)


Started GET "/ezgate.ico" for 127.0.0.1 at 2012-05-03 15:16:17 +0200

ActionController::RoutingError (No route matches [GET] "/ezgate.ico"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.0ms)


Started GET "/ezgate.ico" for 127.0.0.1 at 2012-05-03 15:16:17 +0200

ActionController::RoutingError (No route matches [GET] "/ezgate.ico"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (10.0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:16:27 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (10.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (10.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (100.0ms)
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (20.0ms)
Rendered settings/index.html.erb within layouts/application (180.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 250ms (Views: 160.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:16:27 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:16:27 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/new_web_service" for 127.0.0.1 at 2012-05-03 15:16:31 +0200
  Processing by SettingsController#new_web_service as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/new_web_service.html.erb within layouts/application (20.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 60ms (Views: 40.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:16:31 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:16:31 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/ezgate.ico" for 127.0.0.1 at 2012-05-03 15:16:31 +0200

AbstractController::ActionNotFound (The action 'show' could not be found for SettingsController):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.0ms)


Started GET "/settings/ezgate.ico" for 127.0.0.1 at 2012-05-03 15:16:32 +0200

AbstractController::ActionNotFound (The action 'show' could not be found for SettingsController):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:22:14 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (20.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (80.0ms)
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (10.0ms)
Rendered settings/index.html.erb within layouts/application (110.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 180ms (Views: 100.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:22:14 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:22:14 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/edit_web_service?id=2" for 127.0.0.1 at 2012-05-03 15:22:17 +0200
  Processing by SettingsController#edit_web_service as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE `web_services`.`id` = 2 LIMIT 1
Rendered settings/edit_web_service.html.erb within layouts/application (20.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 100ms (Views: 50.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:22:18 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:22:18 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:22:22 +0200
  Processing by SettingsController#index as HTML
  [1m[35mUserDetail Load (10.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
Rendered settings/_gateway_status.html.erb (50.0ms)
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC[0m
Rendered settings/_web_services.html.erb (10.0ms)
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC
  [1m[36mUserShortCode Load (0.0ms)[0m  [1mSELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered settings/_user_short_codes.html.erb (40.0ms)
  [1m[35mRingtone Load (0.0ms)[0m  SELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC
Rendered settings/_ringtones.html.erb (40.0ms)
Rendered settings/index.html.erb within layouts/application (140.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 180ms (Views: 140.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:22:22 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:22:22 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/edit_web_service?id=4" for 127.0.0.1 at 2012-05-03 15:22:24 +0200
  Processing by SettingsController#edit_web_service as HTML
  Parameters: {"id"=>"4"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE `web_services`.`id` = 4 LIMIT 1[0m
Rendered settings/edit_web_service.html.erb within layouts/application (40.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 90ms (Views: 60.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:22:25 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:22:25 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:22:32 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (10.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (90.0ms)
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (10.0ms)
Rendered settings/index.html.erb within layouts/application (110.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 180ms (Views: 90.0ms | ActiveRecord: 30.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:22:32 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:22:32 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:22:35 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (20.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (40.0ms)
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (20.0ms)
Rendered settings/index.html.erb within layouts/application (130.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 170ms (Views: 110.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:22:35 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:22:35 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/edit_web_service?id=4" for 127.0.0.1 at 2012-05-03 15:22:38 +0200
  Processing by SettingsController#edit_web_service as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE `web_services`.`id` = 4 LIMIT 1
Rendered settings/edit_web_service.html.erb within layouts/application (50.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 90ms (Views: 70.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:22:38 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:22:38 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/settings/update_web_service?id=4" for 127.0.0.1 at 2012-05-03 15:22:42 +0200
  Processing by SettingsController#update_web_service as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lL0XFKrKp3Mo6fyok3hcOwPWmT6wzF1SZPdj68sZcAQ=", "web_service"=>{"name"=>"PRO-YEN", "web_service_type"=>"Get-URL", "web_service_uri"=>"http://localhost:3002/service_manager/get_unique_identifier?", "post_xml_format"=>"", "default_param"=>"false", "param1"=>"", "param2"=>"", "param3"=>"", "param4"=>"", "param5"=>"", "param6"=>"", "param7"=>"", "param8"=>"", "param9"=>"", "param10"=>""}, "save_user"=>"Save", "id"=>"4"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE `web_services`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mUPDATE `web_services` SET `default_param` = 0, `updated_at` = '2012-05-03 13:22:42' WHERE `web_services`.`id` = 4[0m
  [1m[35m (40.0ms)[0m  COMMIT
Redirected to http://localhost:3000/settings
Completed 302 Found in 110ms


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:22:42 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (20.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (80.0ms)
  [1m[36mRingtone Load (10.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (20.0ms)
Rendered settings/index.html.erb within layouts/application (120.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 210ms (Views: 100.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:22:42 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:22:42 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44801&keyword=KN&content=KN+dds+aa%3B+alla" for 127.0.0.1 at 2012-05-03 15:23:03 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44801", "keyword"=>"KN", "content"=>"KN dds aa; alla"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44801' WHERE (keyword = 'KN' or aliases like '%KN%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('KN dds aa; alla', '2012-05-03 13:23:03', '44801', 0, '+250788460106', 1, 'failed', 'FAKE', 'service not available', '2012-05-03 13:23:03', 1)
  [1m[36m (140.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 200ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44801&keyword=m1&content=m1" for 127.0.0.1 at 2012-05-03 15:23:29 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44801", "keyword"=>"m1", "content"=>"m1"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44801' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 1', '2012-05-03 13:23:29', '44801', 0, '+250788460106', 3, 'pending', 'Vodacom DRC', '', '2012-05-03 13:23:29', 2)
  [1m[36m (130.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1[0m


Started GET "/service_manager/get_ringtone?id=1&origin=%2B250788460106&destination=44801&message=m+1&service=3" for 127.0.0.1 at 2012-05-03 15:23:30 +0200
  Processing by ServiceManagerController#get_ringtone as */*
  Parameters: {"id"=>"1", "origin"=>"+250788460106", "destination"=>"44801", "message"=>"m 1", "service"=>"3"}
  [1m[35mRingtone Load (0.0ms)[0m  SELECT `ringtones`.* FROM `ringtones` WHERE (keyword like '%1%') LIMIT 1
Rendered service_manager/get_ringtone.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 0.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mUPDATE `inbound_messages` SET `service_status` = 'success', `updated_at` = '2012-05-03 13:23:30' WHERE `inbound_messages`.`id` = 124[0m
  [1m[35m (120.0ms)[0m  COMMIT
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 810ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=124&user_id=2&service=M&dest=+250788460106&sender=44801&content=Sonnerie+non+disponible&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 15:23:30 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"124", "user_id"=>"2", "service"=>"M", "dest"=>" 250788460106", "sender"=>"44801", "content"=>"Sonnerie non disponible", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Sonnerie non disponible', '2012-05-03 13:23:30', ' 250788460106', 124, '44801', 'M', 'delivered', 'delivered', '2012-05-03 13:23:30', 2)
  [1m[36m (60.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 0.0ms | ActiveRecord: 60.0ms)


Started GET "/service_manager/record_push?inbound_id=124&user_id=2&service=M&dest=+250788460106&sender=44801&content=Sonnerie+non+disponible&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 15:23:30 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"124", "user_id"=>"2", "service"=>"M", "dest"=>" 250788460106", "sender"=>"44801", "content"=>"Sonnerie non disponible", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Sonnerie non disponible', '2012-05-03 13:23:30', ' 250788460106', 124, '44801', 'M', 'submitted', 'submitted', '2012-05-03 13:23:30', 2)[0m
  [1m[35m (40.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 0.0ms | ActiveRecord: 40.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44801&keyword=KN&content=KN+dds+aa%3B+alla" for 127.0.0.1 at 2012-05-03 15:23:33 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44801", "keyword"=>"KN", "content"=>"KN dds aa; alla"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44801' WHERE (keyword = 'KN' or aliases like '%KN%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('KN dds aa; alla', '2012-05-03 13:23:33', '44801', 0, '+250788460106', 1, 'failed', 'FAKE', 'service not available', '2012-05-03 13:23:33', 1)[0m
  [1m[35m (100.0ms)[0m  COMMIT
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 130ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/messages" for 127.0.0.1 at 2012-05-03 15:23:42 +0200
  Processing by MessagesController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` 
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())[0m
Rendered messages/index.html.erb within layouts/application (20.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 120ms (Views: 80.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:23:42 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:23:42 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/inbound" for 127.0.0.1 at 2012-05-03 15:23:43 +0200
  Processing by MessagesController#inbound as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` 
  [1m[36mService Load (10.0ms)[0m  [1mSELECT `services`.* FROM `services` ORDER BY name ASC[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE (code != 'All')
  [1m[36mInboundMessage Load (0.0ms)[0m  [1mSELECT `inbound_messages`.* FROM `inbound_messages` ORDER BY created_at DESC LIMIT 50[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
Rendered messages/_inbound_messages.html.erb (120.0ms)
Rendered messages/inbound.html.erb within layouts/application (210.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 270ms (Views: 240.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:23:43 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:23:43 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/ezgate.ico" for 127.0.0.1 at 2012-05-03 15:23:43 +0200
  Processing by MessagesController#show as 
  Parameters: {"id"=>"ezgate"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered messages/show.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 70ms (Views: 60.0ms | ActiveRecord: 0.0ms)


Started GET "/messages/ezgate.ico" for 127.0.0.1 at 2012-05-03 15:23:43 +0200
  Processing by MessagesController#show as 
  Parameters: {"id"=>"ezgate"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered messages/show.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 70ms (Views: 60.0ms | ActiveRecord: 0.0ms)


Started GET "/messages/view_inbound_message?id=125" for 127.0.0.1 at 2012-05-03 15:23:49 +0200
  Processing by MessagesController#view_inbound_message as HTML
  Parameters: {"id"=>"125"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mInboundMessage Load (0.0ms)[0m  SELECT `inbound_messages`.* FROM `inbound_messages` WHERE (id = '125') LIMIT 1
  [1m[36mOutboundMessage Load (0.0ms)[0m  [1mSELECT `outbound_messages`.* FROM `outbound_messages` WHERE (inbound_id = '125') LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
Rendered messages/view_inbound_message.html.erb (30.0ms)
Completed 200 OK in 90ms (Views: 30.0ms | ActiveRecord: 10.0ms)


Started GET "/images/background.gif" for 127.0.0.1 at 2012-05-03 15:23:49 +0200

ActionController::RoutingError (No route matches [GET] "/images/background.gif"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (10.0ms)


Started GET "/messages/view_inbound_message?id=116" for 127.0.0.1 at 2012-05-03 15:23:59 +0200
  Processing by MessagesController#view_inbound_message as HTML
  Parameters: {"id"=>"116"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mInboundMessage Load (0.0ms)[0m  SELECT `inbound_messages`.* FROM `inbound_messages` WHERE (id = '116') LIMIT 1
  [1m[36mOutboundMessage Load (0.0ms)[0m  [1mSELECT `outbound_messages`.* FROM `outbound_messages` WHERE (inbound_id = '116') LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
Rendered messages/view_inbound_message.html.erb (70.0ms)
Completed 200 OK in 90ms (Views: 70.0ms | ActiveRecord: 0.0ms)


Started GET "/images/background.gif" for 127.0.0.1 at 2012-05-03 15:23:59 +0200

ActionController::RoutingError (No route matches [GET] "/images/background.gif"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44800&keyword=KN&content=KN+dds+aa%3B+alla" for 127.0.0.1 at 2012-05-03 15:24:06 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44800", "keyword"=>"KN", "content"=>"KN dds aa; alla"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'KN' or aliases like '%KN%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('KN dds aa; alla', '2012-05-03 13:24:06', '44800', 0, '+250788460106', 1, 'failed', 'FAKE', 'service not available', '2012-05-03 13:24:06', 1)[0m
  [1m[35m (140.0ms)[0m  COMMIT
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 7 LIMIT 1[0m
Completed 404 Not Found in 170ms

ActiveRecord::RecordNotFound (Couldn't find Service with id=7):
  app/controllers/service_manager_controller.rb:171:in `block in request_handler'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (0.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44800&keyword=KN&content=KN+dds+aa%3B+alla" for 127.0.0.1 at 2012-05-03 15:24:38 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44800", "keyword"=>"KN", "content"=>"KN dds aa; alla"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'KN' or aliases like '%KN%') LIMIT 1
  [1m[36m (10.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('KN dds aa; alla', '2012-05-03 13:24:39', '44800', 0, '+250788460106', 1, 'failed', 'FAKE', 'service not available', '2012-05-03 13:24:39', 1)
  [1m[36m (110.0ms)[0m  [1mCOMMIT[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 220ms (Views: 40.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=127&user_id=1&service=KAT&dest=+250788460106&sender=44800&content=Veuillez+verifier+le+mot+cle.+Envoyez+comme+suivant%3A+Province+Nom+prenom+age+sexe+profession+ex+%3AKN+DEO+NDALA+32ans+M+cuisinier.+Envoyer+votre+message+au+44800&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 15:24:39 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"127", "user_id"=>"1", "service"=>"KAT", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Veuillez verifier le mot cle. Envoyez comme suivant: Province Nom prenom age sexe profession ex :KN DEO NDALA 32ans M cuisinier. Envoyer votre message au 44800", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Veuillez verifier le mot cle. Envoyez comme suivant: Province Nom prenom age sexe profession ex :KN DEO NDALA 32ans M cuisinier. Envoyer votre message au 44800', '2012-05-03 13:24:39', ' 250788460106', 127, '44800', 'KAT', 'submitted', 'submitted', '2012-05-03 13:24:39', 1)
  [1m[36m (70.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 90ms (Views: 0.0ms | ActiveRecord: 80.0ms)


Started GET "/service_manager/record_push?inbound_id=127&user_id=1&service=KAT&dest=+250788460106&sender=44800&content=Veuillez+verifier+le+mot+cle.+Envoyez+comme+suivant%3A+Province+Nom+prenom+age+sexe+profession+ex+%3AKN+DEO+NDALA+32ans+M+cuisinier.+Envoyer+votre+message+au+44800&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 15:24:39 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"127", "user_id"=>"1", "service"=>"KAT", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Veuillez verifier le mot cle. Envoyez comme suivant: Province Nom prenom age sexe profession ex :KN DEO NDALA 32ans M cuisinier. Envoyer votre message au 44800", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Veuillez verifier le mot cle. Envoyez comme suivant: Province Nom prenom age sexe profession ex :KN DEO NDALA 32ans M cuisinier. Envoyer votre message au 44800', '2012-05-03 13:24:39', ' 250788460106', 127, '44800', 'KAT', 'delivered', 'delivered', '2012-05-03 13:24:39', 1)[0m
  [1m[35m (50.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 0.0ms | ActiveRecord: 50.0ms)


Started GET "/services" for 127.0.0.1 at 2012-05-03 15:24:46 +0200
  Processing by ServicesController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` 
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE (user_id='1' and parent != 1) ORDER BY created_at DESC
Rendered services/_list_services.html.erb (80.0ms)
Rendered services/index.html.erb within layouts/application (130.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 150ms (Views: 140.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:24:46 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:24:46 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/pagination.js?body=1" for 127.0.0.1 at 2012-05-03 15:24:46 +0200
Served asset /pagination.js - 200 OK (0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44800&keyword=KAT&content=KAT+dds+aa%3B+alla" for 127.0.0.1 at 2012-05-03 15:24:55 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44800", "keyword"=>"KAT", "content"=>"KAT dds aa; alla"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'KAT' or aliases like '%KAT%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('KAT dds aa; alla', '2012-05-03 13:24:55', '44800', 0, '+250788460106', 5, 'pending', 'Vodacom DRC', '', '2012-05-03 13:24:55', 1)[0m
  [1m[35m (110.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '4') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-03 13:24:55' WHERE `inbound_messages`.`id` = 128
  [1m[36m (40.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mUPDATE `inbound_messages` SET `status_message` = 'Invalid parameters\n', `updated_at` = '2012-05-03 13:24:55' WHERE `inbound_messages`.`id` = 128[0m
  [1m[35m (40.0ms)[0m  COMMIT
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 320ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=128&user_id=1&service=KAT&dest=+250788460106&sender=44800&content=Invalid+parameters%0A&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 15:24:55 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"128", "user_id"=>"1", "service"=>"KAT", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Invalid parameters\n", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Invalid parameters\n', '2012-05-03 13:24:55', ' 250788460106', 128, '44800', 'KAT', 'delivered', 'delivered', '2012-05-03 13:24:55', 1)
  [1m[36m (80.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 100ms (Views: 10.0ms | ActiveRecord: 80.0ms)


Started GET "/service_manager/record_push?inbound_id=128&user_id=1&service=KAT&dest=+250788460106&sender=44800&content=Invalid+parameters%0A&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 15:24:56 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"128", "user_id"=>"1", "service"=>"KAT", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Invalid parameters\n", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Invalid parameters\n', '2012-05-03 13:24:56', ' 250788460106', 128, '44800', 'KAT', 'submitted', 'submitted', '2012-05-03 13:24:56', 1)[0m
  [1m[35m (70.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 130ms (Views: 10.0ms | ActiveRecord: 70.0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:25:02 +0200
  Processing by SettingsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC[0m
Rendered settings/_web_services.html.erb (60.0ms)
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC
  [1m[36mUserShortCode Load (0.0ms)[0m  [1mSELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC[0m
  [1m[35mShortCode Load (10.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered settings/_user_short_codes.html.erb (40.0ms)
  [1m[35mRingtone Load (0.0ms)[0m  SELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC
Rendered settings/_ringtones.html.erb (10.0ms)
Rendered settings/index.html.erb within layouts/application (120.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 190ms (Views: 110.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:25:03 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:25:03 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/edit_web_service?id=4" for 127.0.0.1 at 2012-05-03 15:25:05 +0200
  Processing by SettingsController#edit_web_service as HTML
  Parameters: {"id"=>"4"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE `web_services`.`id` = 4 LIMIT 1[0m
Rendered settings/edit_web_service.html.erb within layouts/application (50.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 110ms (Views: 70.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:25:05 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:25:05 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/settings/update_web_service?id=4" for 127.0.0.1 at 2012-05-03 15:25:07 +0200
  Processing by SettingsController#update_web_service as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lL0XFKrKp3Mo6fyok3hcOwPWmT6wzF1SZPdj68sZcAQ=", "web_service"=>{"name"=>"PRO-YEN", "web_service_type"=>"Get-URL", "web_service_uri"=>"http://localhost:3002/service_manager/get_unique_identifier?", "post_xml_format"=>"", "default_param"=>"true", "param1"=>"", "param2"=>"", "param3"=>"", "param4"=>"", "param5"=>"", "param6"=>"", "param7"=>"", "param8"=>"", "param9"=>"", "param10"=>""}, "save_user"=>"Save", "id"=>"4"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE `web_services`.`id` = 4 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `web_services` SET `default_param` = 1, `updated_at` = '2012-05-03 13:25:08' WHERE `web_services`.`id` = 4
  [1m[36m (80.0ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/settings
Completed 302 Found in 150ms


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:25:08 +0200
  Processing by SettingsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC[0m
Rendered settings/_web_services.html.erb (10.0ms)
  [1m[35mShortCode Load (10.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC
  [1m[36mUserShortCode Load (0.0ms)[0m  [1mSELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered settings/_user_short_codes.html.erb (70.0ms)
  [1m[35mRingtone Load (0.0ms)[0m  SELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC
Rendered settings/_ringtones.html.erb (10.0ms)
Rendered settings/index.html.erb within layouts/application (100.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 170ms (Views: 90.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:25:08 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:25:08 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44800&keyword=KAT&content=KAT+dds+aa%3B+alla" for 127.0.0.1 at 2012-05-03 15:25:11 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44800", "keyword"=>"KAT", "content"=>"KAT dds aa; alla"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'KAT' or aliases like '%KAT%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('KAT dds aa; alla', '2012-05-03 13:25:11', '44800', 0, '+250788460106', 5, 'pending', 'Vodacom DRC', '', '2012-05-03 13:25:11', 1)[0m
  [1m[35m (120.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '4') LIMIT 1


Started GET "/service_manager/get_unique_identifier?origin=%2B250788460106&destination=44800&message=KAT+dds+aa%3B+alla&service=5" for 127.0.0.1 at 2012-05-03 15:25:11 +0200
  Processing by ServiceManagerController#get_unique_identifier as */*
  Parameters: {"origin"=>"+250788460106", "destination"=>"44800", "message"=>"KAT dds aa; alla", "service"=>"5"}
  [1m[36mInboundMessage Load (0.0ms)[0m  [1mSELECT `inbound_messages`.* FROM `inbound_messages` WHERE (replace(sender,'+','') = '250788460106' and service_id = 5 and service_status='success') LIMIT 1[0m
  [1m[35mOutboundMessage Load (0.0ms)[0m  SELECT `outbound_messages`.* FROM `outbound_messages` WHERE `outbound_messages`.`inbound_id` = 113 LIMIT 1
Rendered service_manager/get_unique_identifier.html.erb (0.0ms)
Completed 200 OK in 80ms (Views: 10.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'success', `updated_at` = '2012-05-03 13:25:11' WHERE `inbound_messages`.`id` = 129
  [1m[36m (70.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 490ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=129&user_id=1&service=KAT&dest=+250788460106&sender=44800&content=Votre+insertion+profiessionnelle+dans+le+cuircuit+traditionnel+et+autre+a+deja+ete+effectuee.%0ANumero+d%27identification%3A+++RF_00000000%2F170420%0A&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 15:25:11 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"129", "user_id"=>"1", "service"=>"KAT", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d'identification:   RF_00000000/170420\n", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d\'identification: RF_00000000/170420\n', '2012-05-03 13:25:11', ' 250788460106', 129, '44800', 'KAT', 'submitted', 'submitted', '2012-05-03 13:25:11', 1)[0m
  [1m[35m (60.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 0.0ms | ActiveRecord: 60.0ms)


Started GET "/service_manager/record_push?inbound_id=129&user_id=1&service=KAT&dest=+250788460106&sender=44800&content=Votre+insertion+profiessionnelle+dans+le+cuircuit+traditionnel+et+autre+a+deja+ete+effectuee.%0ANumero+d%27identification%3A+++RF_00000000%2F170420%0A&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 15:25:11 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"129", "user_id"=>"1", "service"=>"KAT", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d'identification:   RF_00000000/170420\n", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (10.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d\'identification: RF_00000000/170420\n', '2012-05-03 13:25:11', ' 250788460106', 129, '44800', 'KAT', 'delivered', 'delivered', '2012-05-03 13:25:11', 1)
  [1m[36m (60.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 0.0ms | ActiveRecord: 70.0ms)


Started GET "/settings/edit_web_service?id=2" for 127.0.0.1 at 2012-05-03 15:25:18 +0200
  Processing by SettingsController#edit_web_service as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE `web_services`.`id` = 2 LIMIT 1[0m
Rendered settings/edit_web_service.html.erb within layouts/application (40.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 130ms (Views: 90.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:25:19 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:25:19 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:25:24 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (20.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (10.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (60.0ms)
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (20.0ms)
Rendered settings/index.html.erb within layouts/application (100.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 170ms (Views: 70.0ms | ActiveRecord: 30.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:25:24 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:25:24 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/edit_web_service?id=4" for 127.0.0.1 at 2012-05-03 15:25:26 +0200
  Processing by SettingsController#edit_web_service as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE `web_services`.`id` = 4 LIMIT 1
Rendered settings/edit_web_service.html.erb within layouts/application (20.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 90ms (Views: 40.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:25:26 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:25:26 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:25:29 +0200
  Processing by SettingsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC[0m
Rendered settings/_web_services.html.erb (70.0ms)
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC
  [1m[36mUserShortCode Load (0.0ms)[0m  [1mSELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered settings/_user_short_codes.html.erb (40.0ms)
  [1m[35mRingtone Load (0.0ms)[0m  SELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC
Rendered settings/_ringtones.html.erb (10.0ms)
Rendered settings/index.html.erb within layouts/application (120.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 170ms (Views: 120.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:25:30 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:25:30 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/edit_web_service?id=2" for 127.0.0.1 at 2012-05-03 15:25:31 +0200
  Processing by SettingsController#edit_web_service as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE `web_services`.`id` = 2 LIMIT 1[0m
Rendered settings/edit_web_service.html.erb within layouts/application (10.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 90ms (Views: 70.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:25:32 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:25:32 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/settings/update_web_service?id=2" for 127.0.0.1 at 2012-05-03 15:25:36 +0200
  Processing by SettingsController#update_web_service as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lL0XFKrKp3Mo6fyok3hcOwPWmT6wzF1SZPdj68sZcAQ=", "web_service"=>{"name"=>"Ringtone", "web_service_type"=>"Get-URL", "web_service_uri"=>"http://localhost:3002/service_manager/get_ringtone", "post_xml_format"=>"", "default_param"=>"true", "param1"=>"id", "param2"=>"", "param3"=>"", "param4"=>"", "param5"=>"", "param6"=>"", "param7"=>"", "param8"=>"", "param9"=>"", "param10"=>""}, "save_user"=>"Save", "id"=>"2"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE `web_services`.`id` = 2 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `web_services` SET `default_param` = 1, `updated_at` = '2012-05-03 13:25:37' WHERE `web_services`.`id` = 2
  [1m[36m (80.0ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/settings
Completed 302 Found in 150ms


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:25:37 +0200
  Processing by SettingsController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC[0m
Rendered settings/_web_services.html.erb (10.0ms)
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC
  [1m[36mUserShortCode Load (0.0ms)[0m  [1mSELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Rendered settings/_user_short_codes.html.erb (80.0ms)
  [1m[35mRingtone Load (0.0ms)[0m  SELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC
Rendered settings/_ringtones.html.erb (10.0ms)
Rendered settings/index.html.erb within layouts/application (110.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 190ms (Views: 100.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:25:37 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:25:37 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44801&keyword=m1&content=m1" for 127.0.0.1 at 2012-05-03 15:25:41 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44801", "keyword"=>"m1", "content"=>"m1"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44801' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 1', '2012-05-03 13:25:41', '44801', 0, '+250788460106', 3, 'pending', 'Vodacom DRC', '', '2012-05-03 13:25:41', 2)
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1[0m


Started GET "/service_manager/get_ringtone?id&origin=%2B250788460106&destination=44801&message=m+1&service=3" for 127.0.0.1 at 2012-05-03 15:25:41 +0200
  Processing by ServiceManagerController#get_ringtone as */*
  Parameters: {"id"=>nil, "origin"=>"+250788460106", "destination"=>"44801", "message"=>"m 1", "service"=>"3"}
Rendered service_manager/get_ringtone.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mUPDATE `inbound_messages` SET `service_status` = 'success', `updated_at` = '2012-05-03 13:25:41' WHERE `inbound_messages`.`id` = 130[0m
  [1m[35m (40.0ms)[0m  COMMIT
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 250ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=130&user_id=2&service=M&dest=+250788460106&sender=44801&content=Code+sonnerie+invalid&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 15:25:41 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"130", "user_id"=>"2", "service"=>"M", "dest"=>" 250788460106", "sender"=>"44801", "content"=>"Code sonnerie invalid", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Code sonnerie invalid', '2012-05-03 13:25:41', ' 250788460106', 130, '44801', 'M', 'delivered', 'delivered', '2012-05-03 13:25:41', 2)
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 10.0ms | ActiveRecord: 50.0ms)


Started GET "/service_manager/record_push?inbound_id=130&user_id=2&service=M&dest=+250788460106&sender=44801&content=Code+sonnerie+invalid&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 15:25:41 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"130", "user_id"=>"2", "service"=>"M", "dest"=>" 250788460106", "sender"=>"44801", "content"=>"Code sonnerie invalid", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Code sonnerie invalid', '2012-05-03 13:25:41', ' 250788460106', 130, '44801', 'M', 'submitted', 'submitted', '2012-05-03 13:25:41', 2)[0m
  [1m[35m (50.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 60ms (Views: 0.0ms | ActiveRecord: 50.0ms)


Started GET "/services" for 127.0.0.1 at 2012-05-03 15:25:48 +0200
  Processing by ServicesController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` [0m
  [1m[35mUser Load (10.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE (user_id='1' and parent != 1) ORDER BY created_at DESC[0m
Rendered services/_list_services.html.erb (70.0ms)
Rendered services/index.html.erb within layouts/application (70.0ms)
  [1m[35mUser Load (10.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 100ms (Views: 70.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:25:48 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/pagination.js?body=1" for 127.0.0.1 at 2012-05-03 15:25:48 +0200
Served asset /pagination.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:25:48 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:25:49 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (20.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (70.0ms)
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (20.0ms)
Rendered settings/index.html.erb within layouts/application (110.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 200ms (Views: 120.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:25:49 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:25:49 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44801&keyword=m&content=m+60" for 127.0.0.1 at 2012-05-03 15:25:58 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44801", "keyword"=>"m", "content"=>"m 60"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44801' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 60', '2012-05-03 13:25:59', '44801', 0, '+250788460106', 3, 'pending', 'Vodacom DRC', '', '2012-05-03 13:25:59', 2)[0m
  [1m[35m (180.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1


Started GET "/service_manager/get_ringtone?id&origin=%2B250788460106&destination=44801&message=m+60&service=3" for 127.0.0.1 at 2012-05-03 15:25:59 +0200
  Processing by ServiceManagerController#get_ringtone as */*
  Parameters: {"id"=>nil, "origin"=>"+250788460106", "destination"=>"44801", "message"=>"m 60", "service"=>"3"}
Rendered service_manager/get_ringtone.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'success', `updated_at` = '2012-05-03 13:25:59' WHERE `inbound_messages`.`id` = 131
  [1m[36m (60.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 390ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=131&user_id=2&service=M&dest=+250788460106&sender=44801&content=Code+sonnerie+invalid&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 15:25:59 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"131", "user_id"=>"2", "service"=>"M", "dest"=>" 250788460106", "sender"=>"44801", "content"=>"Code sonnerie invalid", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Code sonnerie invalid', '2012-05-03 13:25:59', ' 250788460106', 131, '44801', 'M', 'delivered', 'delivered', '2012-05-03 13:25:59', 2)[0m
  [1m[35m (70.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 110ms (Views: 0.0ms | ActiveRecord: 70.0ms)


Started GET "/service_manager/record_push?inbound_id=131&user_id=2&service=M&dest=+250788460106&sender=44801&content=Code+sonnerie+invalid&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 15:25:59 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"131", "user_id"=>"2", "service"=>"M", "dest"=>" 250788460106", "sender"=>"44801", "content"=>"Code sonnerie invalid", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Code sonnerie invalid', '2012-05-03 13:25:59', ' 250788460106', 131, '44801', 'M', 'submitted', 'submitted', '2012-05-03 13:25:59', 2)
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 10.0ms | ActiveRecord: 50.0ms)


Started GET "/settings/edit_web_service?id=2" for 127.0.0.1 at 2012-05-03 15:26:05 +0200
  Processing by SettingsController#edit_web_service as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE `web_services`.`id` = 2 LIMIT 1
Rendered settings/edit_web_service.html.erb within layouts/application (10.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 90ms (Views: 40.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:26:05 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:26:05 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/settings/update_web_service?id=2" for 127.0.0.1 at 2012-05-03 15:26:07 +0200
  Processing by SettingsController#update_web_service as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lL0XFKrKp3Mo6fyok3hcOwPWmT6wzF1SZPdj68sZcAQ=", "web_service"=>{"name"=>"Ringtone", "web_service_type"=>"Get-URL", "web_service_uri"=>"http://localhost:3002/service_manager/get_ringtone", "post_xml_format"=>"", "default_param"=>"false", "param1"=>"id", "param2"=>"", "param3"=>"", "param4"=>"", "param5"=>"", "param6"=>"", "param7"=>"", "param8"=>"", "param9"=>"", "param10"=>""}, "save_user"=>"Save", "id"=>"2"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE `web_services`.`id` = 2 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mUPDATE `web_services` SET `default_param` = 0, `updated_at` = '2012-05-03 13:26:07' WHERE `web_services`.`id` = 2[0m
  [1m[35m (40.0ms)[0m  COMMIT
Redirected to http://localhost:3000/settings
Completed 302 Found in 80ms


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:26:07 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (20.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (40.0ms)
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (50.0ms)
Rendered settings/index.html.erb within layouts/application (110.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 180ms (Views: 100.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:26:08 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:26:08 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44801&keyword=m&content=m+60" for 127.0.0.1 at 2012-05-03 15:26:10 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44801", "keyword"=>"m", "content"=>"m 60"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44801' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 60', '2012-05-03 13:26:10', '44801', 0, '+250788460106', 3, 'pending', 'Vodacom DRC', '', '2012-05-03 13:26:10', 2)
  [1m[36m (110.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1[0m


Started GET "/service_manager/get_ringtone?id=60&origin=%2B250788460106&destination=44801&message=m+60&service=3" for 127.0.0.1 at 2012-05-03 15:26:11 +0200
  Processing by ServiceManagerController#get_ringtone as */*
  Parameters: {"id"=>"60", "origin"=>"+250788460106", "destination"=>"44801", "message"=>"m 60", "service"=>"3"}
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` WHERE (keyword like '%60%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `ringtone_access_keys` (`created_at`, `expires_at`, `key`, `req_status`, `ringtone_id`, `updated_at`, `used_at`) VALUES ('2012-05-03 13:26:11', '2012-05-03 13:28:11', '9176', 'unused', 1, '2012-05-03 13:26:11', NULL)[0m
  [1m[35m (50.0ms)[0m  COMMIT
Rendered service_manager/get_ringtone.html.erb (0.0ms)
Completed 200 OK in 110ms (Views: 0.0ms | ActiveRecord: 50.0ms)
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mUPDATE `inbound_messages` SET `service_status` = 'success', `updated_at` = '2012-05-03 13:26:11' WHERE `inbound_messages`.`id` = 132[0m
  [1m[35m (30.0ms)[0m  COMMIT
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 420ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=132&user_id=2&service=M&dest=+250788460106&sender=44801&content=Allez+sur+http%3A%2F%2Fwww.vodafun.net%2Fhome%2Fringtone%3Fid%3D1+et+telecharger+votre+sonnerie+a+l%27aide+du+code+secret+suivant+%3A%0A9176&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 15:26:11 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"132", "user_id"=>"2", "service"=>"M", "dest"=>" 250788460106", "sender"=>"44801", "content"=>"Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l'aide du code secret suivant :\n9176", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l\'aide du code secret suivant :\n9176', '2012-05-03 13:26:11', ' 250788460106', 132, '44801', 'M', 'submitted', 'submitted', '2012-05-03 13:26:11', 2)
  [1m[36m (60.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 0.0ms | ActiveRecord: 60.0ms)


Started GET "/service_manager/record_push?inbound_id=132&user_id=2&service=M&dest=+250788460106&sender=44801&content=Allez+sur+http%3A%2F%2Fwww.vodafun.net%2Fhome%2Fringtone%3Fid%3D1+et+telecharger+votre+sonnerie+a+l%27aide+du+code+secret+suivant+%3A%0A9176&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 15:26:11 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"132", "user_id"=>"2", "service"=>"M", "dest"=>" 250788460106", "sender"=>"44801", "content"=>"Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l'aide du code secret suivant :\n9176", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l\'aide du code secret suivant :\n9176', '2012-05-03 13:26:11', ' 250788460106', 132, '44801', 'M', 'delivered', 'delivered', '2012-05-03 13:26:11', 2)[0m
  [1m[35m (40.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 10.0ms | ActiveRecord: 40.0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:26:41 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (20.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (80.0ms)
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (10.0ms)
Rendered settings/index.html.erb within layouts/application (110.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 220ms (Views: 90.0ms | ActiveRecord: 30.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:26:41 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:26:41 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/new_web_service" for 127.0.0.1 at 2012-05-03 15:26:42 +0200
  Processing by SettingsController#new_web_service as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/new_web_service.html.erb within layouts/application (10.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 80ms (Views: 20.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:26:42 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:26:42 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/new_web_service" for 127.0.0.1 at 2012-05-03 15:31:10 +0200
  Processing by SettingsController#new_web_service as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/new_web_service.html.erb within layouts/application (20.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 100ms (Views: 80.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:31:10 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:31:10 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/new_web_service" for 127.0.0.1 at 2012-05-03 15:32:08 +0200
  Processing by SettingsController#new_web_service as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/new_web_service.html.erb within layouts/application (80.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 170ms (Views: 130.0ms | ActiveRecord: 30.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:32:08 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:32:08 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/new_web_service" for 127.0.0.1 at 2012-05-03 15:32:25 +0200
  Processing by SettingsController#new_web_service as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/new_web_service.html.erb within layouts/application (30.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 120ms (Views: 80.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:32:26 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:32:26 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/new_web_service" for 127.0.0.1 at 2012-05-03 15:32:51 +0200
  Processing by SettingsController#new_web_service as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/new_web_service.html.erb within layouts/application (10.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 110ms (Views: 90.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:32:51 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:32:51 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/new_web_service" for 127.0.0.1 at 2012-05-03 15:35:05 +0200
  Processing by SettingsController#new_web_service as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/new_web_service.html.erb within layouts/application (30.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 180ms (Views: 60.0ms | ActiveRecord: 50.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:35:05 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:35:05 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:35:26 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (40.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (20.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (10.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (40.0ms)
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (20.0ms)
Rendered settings/index.html.erb within layouts/application (120.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 170ms (Views: 110.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:35:26 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:35:26 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:35:27 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (30.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (10.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (80.0ms)
  [1m[36mRingtone Load (10.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (20.0ms)
Rendered settings/index.html.erb within layouts/application (130.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 220ms (Views: 100.0ms | ActiveRecord: 30.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:35:27 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:35:27 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/new_web_service" for 127.0.0.1 at 2012-05-03 15:35:28 +0200
  Processing by SettingsController#new_web_service as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/new_web_service.html.erb within layouts/application (20.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 110ms (Views: 30.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:35:28 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:35:28 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:35:33 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (10.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (60.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (40.0ms)
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (10.0ms)
Rendered settings/index.html.erb within layouts/application (130.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 170ms (Views: 130.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:35:34 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:35:34 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:37:12 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (20.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (140.0ms)
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (10.0ms)
Rendered settings/index.html.erb within layouts/application (200.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 410ms (Views: 340.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:37:12 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:37:12 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/new_web_service" for 127.0.0.1 at 2012-05-03 15:37:15 +0200
  Processing by SettingsController#new_web_service as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/new_web_service.html.erb within layouts/application (20.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 110ms (Views: 90.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:37:15 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:37:15 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:37:55 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (10.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (10.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (120.0ms)
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (20.0ms)
Rendered settings/index.html.erb within layouts/application (180.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 370ms (Views: 290.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:37:56 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:37:56 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/new_web_service" for 127.0.0.1 at 2012-05-03 15:37:57 +0200
  Processing by SettingsController#new_web_service as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/new_web_service.html.erb within layouts/application (50.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 80ms (Views: 60.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:37:58 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:37:58 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/settings/new_web_service" for 127.0.0.1 at 2012-05-03 15:38:08 +0200
  Processing by SettingsController#new_web_service as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lL0XFKrKp3Mo6fyok3hcOwPWmT6wzF1SZPdj68sZcAQ=", "web_service"=>{"name"=>"tes", "web_service_type"=>"Get-URL(1)", "web_service_uri"=>"http://localhost:3001/service_manager/testing?", "post_xml_format"=>"", "default_param"=>"false", "param1"=>"", "param2"=>"", "param3"=>"", "param4"=>"", "param5"=>"", "param6"=>"", "param7"=>"", "param8"=>"", "param9"=>"", "param10"=>""}, "save_user"=>"Save"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `web_services` (`created_at`, `default_param`, `name`, `param1`, `param10`, `param2`, `param3`, `param4`, `param5`, `param6`, `param7`, `param8`, `param9`, `post_xml_format`, `updated_at`, `web_service_type`, `web_service_uri`) VALUES ('2012-05-03 13:38:09', 0, 'tes', '', '', '', '', '', '', '', '', '', '', '', '2012-05-03 13:38:09', 'Get-URL(1)', 'http://localhost:3001/service_manager/testing?')[0m
  [1m[35m (60.0ms)[0m  COMMIT
Redirected to http://localhost:3000/settings
Completed 302 Found in 110ms


Started GET "/settings" for 127.0.0.1 at 2012-05-03 15:38:09 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (10.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (10.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (50.0ms)
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (40.0ms)
Rendered settings/index.html.erb within layouts/application (120.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 200ms (Views: 110.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 15:38:09 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 15:38:09 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44801&keyword=m&content=m+60" for 127.0.0.1 at 2012-05-03 16:13:20 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44801", "keyword"=>"m", "content"=>"m 60"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44801' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 60', '2012-05-03 14:13:20', '44801', 0, '+250788460106', 3, 'pending', 'Vodacom DRC', '', '2012-05-03 14:13:20', 2)[0m
  [1m[35m (100.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 200ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/messages" for 127.0.0.1 at 2012-05-03 16:13:31 +0200
  Processing by MessagesController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` 
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())[0m
Rendered messages/index.html.erb within layouts/application (60.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 170ms (Views: 140.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 16:13:32 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 16:13:32 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/inbound" for 127.0.0.1 at 2012-05-03 16:13:33 +0200
  Processing by MessagesController#inbound as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` 
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` ORDER BY name ASC[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE (code != 'All')
  [1m[36mInboundMessage Load (0.0ms)[0m  [1mSELECT `inbound_messages`.* FROM `inbound_messages` ORDER BY created_at DESC LIMIT 50[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
Rendered messages/_inbound_messages.html.erb (180.0ms)
Rendered messages/inbound.html.erb within layouts/application (260.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 320ms (Views: 300.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 16:13:33 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 16:13:33 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44801&keyword=m&content=m+60" for 127.0.0.1 at 2012-05-03 16:15:09 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44801", "keyword"=>"m", "content"=>"m 60"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44801' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 60', '2012-05-03 14:15:09', '44801', 0, '+250788460106', 3, 'pending', 'Vodacom DRC', '', '2012-05-03 14:15:09', 2)[0m
  [1m[35m (210.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1
Completed 500 Internal Server Error in 290ms

NoMethodError (undefined method `web_service_type' for "http://localhost:3002/service_manager/get_ringtone":String):
  app/controllers/service_manager_controller.rb:279:in `web_service_request'
  app/controllers/service_manager_controller.rb:98:in `block in request_handler'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (0.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44801&keyword=m&content=m+60" for 127.0.0.1 at 2012-05-03 16:17:42 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44801", "keyword"=>"m", "content"=>"m 60"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44801' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 60', '2012-05-03 14:17:42', '44801', 0, '+250788460106', 3, 'pending', 'Vodacom DRC', '', '2012-05-03 14:17:42', 2)[0m
  [1m[35m (110.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1
Completed 500 Internal Server Error in 200ms

ArgumentError (wrong number of arguments (5 for 4)):
  app/controllers/service_manager_controller.rb:278:in `web_service_request'
  app/controllers/service_manager_controller.rb:98:in `block in request_handler'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (10.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44801&keyword=m&content=m+60" for 127.0.0.1 at 2012-05-03 16:18:05 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44801", "keyword"=>"m", "content"=>"m 60"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44801' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 60', '2012-05-03 14:18:05', '44801', 0, '+250788460106', 3, 'pending', 'Vodacom DRC', '', '2012-05-03 14:18:05', 2)[0m
  [1m[35m (110.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1


Started GET "/service_manager/get_ringtone?id=60&origin=%2B250788460106&destination=44801&message=m+60&service=3" for 127.0.0.1 at 2012-05-03 16:18:05 +0200
  Processing by ServiceManagerController#get_ringtone as */*
  Parameters: {"id"=>"60", "origin"=>"+250788460106", "destination"=>"44801", "message"=>"m 60", "service"=>"3"}
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` WHERE (keyword like '%60%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `ringtone_access_keys` (`created_at`, `expires_at`, `key`, `req_status`, `ringtone_id`, `updated_at`, `used_at`) VALUES ('2012-05-03 14:18:05', '2012-05-03 14:20:05', '8799', 'unused', 1, '2012-05-03 14:18:05', NULL)[0m
  [1m[35m (50.0ms)[0m  COMMIT
Rendered service_manager/get_ringtone.html.erb (0.0ms)
Completed 200 OK in 80ms (Views: 0.0ms | ActiveRecord: 50.0ms)
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'success', `updated_at` = '2012-05-03 14:18:06' WHERE `inbound_messages`.`id` = 136
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 460ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=136&user_id=2&service=M&dest=+250788460106&sender=44801&content=Allez+sur+http%3A%2F%2Fwww.vodafun.net%2Fhome%2Fringtone%3Fid%3D1+et+telecharger+votre+sonnerie+a+l%27aide+du+code+secret+suivant+%3A%0A8799&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 16:18:06 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"136", "user_id"=>"2", "service"=>"M", "dest"=>" 250788460106", "sender"=>"44801", "content"=>"Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l'aide du code secret suivant :\n8799", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l\'aide du code secret suivant :\n8799', '2012-05-03 14:18:06', ' 250788460106', 136, '44801', 'M', 'submitted', 'submitted', '2012-05-03 14:18:06', 2)[0m
  [1m[35m (60.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 120ms (Views: 30.0ms | ActiveRecord: 60.0ms)


Started GET "/service_manager/record_push?inbound_id=136&user_id=2&service=M&dest=+250788460106&sender=44801&content=Allez+sur+http%3A%2F%2Fwww.vodafun.net%2Fhome%2Fringtone%3Fid%3D1+et+telecharger+votre+sonnerie+a+l%27aide+du+code+secret+suivant+%3A%0A8799&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 16:18:06 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"136", "user_id"=>"2", "service"=>"M", "dest"=>" 250788460106", "sender"=>"44801", "content"=>"Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l'aide du code secret suivant :\n8799", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l\'aide du code secret suivant :\n8799', '2012-05-03 14:18:06', ' 250788460106', 136, '44801', 'M', 'delivered', 'delivered', '2012-05-03 14:18:06', 2)
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 10.0ms | ActiveRecord: 50.0ms)


Started GET "/messages/inbound" for 127.0.0.1 at 2012-05-03 16:18:14 +0200
  Processing by MessagesController#inbound as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` 
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` ORDER BY name ASC[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE (code != 'All')
  [1m[36mInboundMessage Load (0.0ms)[0m  [1mSELECT `inbound_messages`.* FROM `inbound_messages` ORDER BY created_at DESC LIMIT 50[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
Rendered messages/_inbound_messages.html.erb (120.0ms)
Rendered messages/inbound.html.erb within layouts/application (170.0ms)
  [1m[35mUser Load (10.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 280ms (Views: 210.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 16:18:14 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 16:18:14 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44800&keyword=KAT&content=KAT+dds+aa%3B+alla" for 127.0.0.1 at 2012-05-03 16:18:24 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44800", "keyword"=>"KAT", "content"=>"KAT dds aa; alla"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'KAT' or aliases like '%KAT%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('KAT dds aa; alla', '2012-05-03 14:18:24', '44800', 0, '+250788460106', 5, 'pending', 'Vodacom DRC', '', '2012-05-03 14:18:24', 1)
  [1m[36m (110.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '4') LIMIT 1[0m


Started GET "/service_manager/get_unique_identifier?origin=%2B250788460106&destination=44800&message=KAT+dds+aa%3B+alla&service=5" for 127.0.0.1 at 2012-05-03 16:18:24 +0200
  Processing by ServiceManagerController#get_unique_identifier as */*
  Parameters: {"origin"=>"+250788460106", "destination"=>"44800", "message"=>"KAT dds aa; alla", "service"=>"5"}
  [1m[36mInboundMessage Load (0.0ms)[0m  [1mSELECT `inbound_messages`.* FROM `inbound_messages` WHERE (replace(sender,'+','') = '250788460106' and service_id = 5 and service_status='success') LIMIT 1[0m
  [1m[35mOutboundMessage Load (0.0ms)[0m  SELECT `outbound_messages`.* FROM `outbound_messages` WHERE `outbound_messages`.`inbound_id` = 113 LIMIT 1
Rendered service_manager/get_unique_identifier.html.erb (0.0ms)
Completed 200 OK in 30ms (Views: 0.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mUPDATE `inbound_messages` SET `service_status` = 'success', `updated_at` = '2012-05-03 14:18:25' WHERE `inbound_messages`.`id` = 137[0m
  [1m[35m (50.0ms)[0m  COMMIT
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 380ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=137&user_id=1&service=KAT&dest=+250788460106&sender=44800&content=Votre+insertion+profiessionnelle+dans+le+cuircuit+traditionnel+et+autre+a+deja+ete+effectuee.%0ANumero+d%27identification%3A+++RF_00000000%2F170420%0A&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 16:18:25 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"137", "user_id"=>"1", "service"=>"KAT", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d'identification:   RF_00000000/170420\n", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d\'identification: RF_00000000/170420\n', '2012-05-03 14:18:25', ' 250788460106', 137, '44800', 'KAT', 'submitted', 'submitted', '2012-05-03 14:18:25', 1)
  [1m[36m (70.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 0.0ms | ActiveRecord: 70.0ms)


Started GET "/service_manager/record_push?inbound_id=137&user_id=1&service=KAT&dest=+250788460106&sender=44800&content=Votre+insertion+profiessionnelle+dans+le+cuircuit+traditionnel+et+autre+a+deja+ete+effectuee.%0ANumero+d%27identification%3A+++RF_00000000%2F170420%0A&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 16:18:25 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"137", "user_id"=>"1", "service"=>"KAT", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d'identification:   RF_00000000/170420\n", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d\'identification: RF_00000000/170420\n', '2012-05-03 14:18:25', ' 250788460106', 137, '44800', 'KAT', 'delivered', 'delivered', '2012-05-03 14:18:25', 1)[0m
  [1m[35m (50.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 10.0ms | ActiveRecord: 50.0ms)


Started GET "/messages/inbound" for 127.0.0.1 at 2012-05-03 16:18:36 +0200
  Processing by MessagesController#inbound as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` 
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` ORDER BY name ASC[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE (code != 'All')
  [1m[36mInboundMessage Load (0.0ms)[0m  [1mSELECT `inbound_messages`.* FROM `inbound_messages` ORDER BY created_at DESC LIMIT 50[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 5 LIMIT 1
  [1m[36mService Load (10.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 4 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `services`.* FROM `services` WHERE `services`.`id` = 1 LIMIT 1[0m
Rendered messages/_inbound_messages.html.erb (110.0ms)
Rendered messages/inbound.html.erb within layouts/application (140.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 240ms (Views: 220.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 16:18:36 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 16:18:36 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings" for 127.0.0.1 at 2012-05-03 16:19:21 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (20.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (70.0ms)
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (20.0ms)
Rendered settings/index.html.erb within layouts/application (110.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 180ms (Views: 100.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 16:19:21 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 16:19:21 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/settings/new_web_service" for 127.0.0.1 at 2012-05-03 16:19:23 +0200
  Processing by SettingsController#new_web_service as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/new_web_service.html.erb within layouts/application (20.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 50ms (Views: 40.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 16:19:23 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 16:19:23 +0200
Served asset /jquery.js - 304 Not Modified (9ms)


Started POST "/settings/new_web_service" for 127.0.0.1 at 2012-05-03 16:20:37 +0200
  Processing by SettingsController#new_web_service as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lL0XFKrKp3Mo6fyok3hcOwPWmT6wzF1SZPdj68sZcAQ=", "web_service"=>{"name"=>"Jet", "web_service_type"=>"Get-URL(2)", "web_service_uri"=>"http://41.87.132.154/jetmaroc/apps_custmers/rdc/interco/api_mo.php?DA=destination&SOA=origin&Content=message&provider=vodacom", "post_xml_format"=>"", "default_param"=>"false", "param1"=>"", "param2"=>"", "param3"=>"", "param4"=>"", "param5"=>"", "param6"=>"", "param7"=>"", "param8"=>"", "param9"=>"", "param10"=>""}, "save_user"=>"Save"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `web_services` (`created_at`, `default_param`, `name`, `param1`, `param10`, `param2`, `param3`, `param4`, `param5`, `param6`, `param7`, `param8`, `param9`, `post_xml_format`, `updated_at`, `web_service_type`, `web_service_uri`) VALUES ('2012-05-03 14:20:37', 0, 'Jet', '', '', '', '', '', '', '', '', '', '', '', '2012-05-03 14:20:37', 'Get-URL(2)', 'http://41.87.132.154/jetmaroc/apps_custmers/rdc/interco/api_mo.php?DA=destination&SOA=origin&Content=message&provider=vodacom')[0m
  [1m[35m (80.0ms)[0m  COMMIT
Redirected to http://localhost:3000/settings
Completed 302 Found in 140ms


Started GET "/settings" for 127.0.0.1 at 2012-05-03 16:20:37 +0200
  Processing by SettingsController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered settings/_gateway_status.html.erb (0.0ms)
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` ORDER BY created_at DESC
Rendered settings/_web_services.html.erb (20.0ms)
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` ORDER BY created_at DESC[0m
  [1m[35mUserShortCode Load (0.0ms)[0m  SELECT `user_short_codes`.* FROM `user_short_codes` ORDER BY created_at DESC
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Rendered settings/_user_short_codes.html.erb (60.0ms)
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` ORDER BY keyword DESC[0m
Rendered settings/_ringtones.html.erb (10.0ms)
Rendered settings/index.html.erb within layouts/application (100.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 160ms (Views: 90.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 16:20:37 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 16:20:37 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/services" for 127.0.0.1 at 2012-05-03 16:20:42 +0200
  Processing by ServicesController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` 
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE (user_id='1' and parent != 1) ORDER BY created_at DESC
Rendered services/_list_services.html.erb (70.0ms)
Rendered services/index.html.erb within layouts/application (80.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 90ms (Views: 80.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 16:20:42 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/pagination.js?body=1" for 127.0.0.1 at 2012-05-03 16:20:42 +0200
Served asset /pagination.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 16:20:42 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/services/new_service" for 127.0.0.1 at 2012-05-03 16:20:43 +0200
  Processing by ServicesController#new_service as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` [0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE (code != 'All')
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` [0m
Rendered services/new_service.html.erb within layouts/application (110.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 170ms (Views: 150.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 16:20:44 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 16:20:44 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/dynamic_codes.js" for 127.0.0.1 at 2012-05-03 16:20:44 +0200
Served asset /dynamic_codes.js - 404 Not Found (0ms)

ActionController::RoutingError (No route matches [GET] "/assets/dynamic_codes.js"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (10.0ms)


Started GET "/services/ezgate.ico" for 127.0.0.1 at 2012-05-03 16:20:44 +0200

AbstractController::ActionNotFound (The action 'show' could not be found for ServicesController):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.0ms)


Started GET "/services/ezgate.ico" for 127.0.0.1 at 2012-05-03 16:20:44 +0200

AbstractController::ActionNotFound (The action 'show' could not be found for ServicesController):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.0ms)


Started GET "/services/new_service" for 127.0.0.1 at 2012-05-03 16:22:21 +0200
  Processing by ServicesController#new_service as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` 
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE (code != 'All')[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` 
Rendered services/new_service.html.erb within layouts/application (90.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 160ms (Views: 100.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 16:22:21 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/dynamic_codes.js" for 127.0.0.1 at 2012-05-03 16:22:21 +0200
Served asset /dynamic_codes.js - 404 Not Found (0ms)

ActionController::RoutingError (No route matches [GET] "/assets/dynamic_codes.js"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 16:22:21 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/dynamic_codes.js" for 127.0.0.1 at 2012-05-03 16:22:21 +0200
Served asset /dynamic_codes.js - 404 Not Found (0ms)

ActionController::RoutingError (No route matches [GET] "/assets/dynamic_codes.js"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.0ms)


Started POST "/services/new_service" for 127.0.0.1 at 2012-05-03 16:24:59 +0200
  Processing by ServicesController#new_service as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lL0XFKrKp3Mo6fyok3hcOwPWmT6wzF1SZPdj68sZcAQ=", "service"=>{"name"=>"Game", "keyword"=>"game", "aliases"=>"game", "user_id"=>"1", "user_short_code_id"=>"2", "content_type"=>"Dynamic", "reply"=>"true", "reply_content"=>"", "web_service_id"=>"6"}, "remLen2"=>"125", "save_user"=>"Save"}
  [1m[35mUserDetail Load (10.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mUserShortCode Load (0.0ms)[0m  [1mSELECT `user_short_codes`.* FROM `user_short_codes` WHERE (short_code_id=2 and user_id=1) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `services` (`aliases`, `content_type`, `created_at`, `keyword`, `name`, `reply`, `reply_content`, `status`, `updated_at`, `user_id`, `user_short_code_id`, `web_service_id`) VALUES ('game', 'Dynamic', '2012-05-03 14:24:59', 'game', 'Game', 1, '', 0, '2012-05-03 14:24:59', 1, 2, 6)[0m
  [1m[35m (70.0ms)[0m  COMMIT
Redirected to http://localhost:3000/services/list
Completed 302 Found in 140ms


Started GET "/services/list" for 127.0.0.1 at 2012-05-03 16:24:59 +0200
  Processing by ServicesController#list as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` 
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE (user_id='1' and parent != 1) ORDER BY created_at DESC[0m
Rendered services/_list_services.html.erb (80.0ms)
Rendered services/list.html.erb within layouts/application (80.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 100ms (Views: 80.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 16:24:59 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 16:24:59 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/pagination.js?body=1" for 127.0.0.1 at 2012-05-03 16:24:59 +0200
Served asset /pagination.js - 304 Not Modified (0ms)


Started GET "/services/enable_service?id=6" for 127.0.0.1 at 2012-05-03 16:25:02 +0200
  Processing by ServicesController#enable_service as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` WHERE `services`.`id` = 6 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `services` SET `status` = 1, `updated_at` = '2012-05-03 14:25:03' WHERE `services`.`id` = 6
  [1m[36m (80.0ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/services
Completed 302 Found in 130ms


Started GET "/services" for 127.0.0.1 at 2012-05-03 16:25:03 +0200
  Processing by ServicesController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` [0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (10.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` =   LIMIT 1[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE (user_id='1' and parent != 1) ORDER BY created_at DESC
Rendered services/_list_services.html.erb (120.0ms)
Rendered services/index.html.erb within layouts/application (120.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 140ms (Views: 120.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 16:25:03 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 16:25:03 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/pagination.js?body=1" for 127.0.0.1 at 2012-05-03 16:25:03 +0200
Served asset /pagination.js - 304 Not Modified (0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44800&keyword=game&content=game" for 127.0.0.1 at 2012-05-03 16:25:10 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44800", "keyword"=>"game", "content"=>"game"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'game' or aliases like '%game%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('game', '2012-05-03 14:25:10', '44800', 0, '+250788460106', 6, 'pending', 'Vodacom DRC', '', '2012-05-03 14:25:10', 1)[0m
  [1m[35m (60.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '6') LIMIT 1
Completed 500 Internal Server Error in 130ms

TypeError (can't convert nil into String):
  app/controllers/service_manager_controller.rb:155:in `gsub'
  app/controllers/service_manager_controller.rb:155:in `block (2 levels) in request_handler'
  app/controllers/service_manager_controller.rb:150:in `each'
  app/controllers/service_manager_controller.rb:150:in `block in request_handler'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (0.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44800&keyword=game&content=game" for 127.0.0.1 at 2012-05-03 16:32:59 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44800", "keyword"=>"game", "content"=>"game"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'game' or aliases like '%game%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('game', '2012-05-03 14:32:59', '44800', 0, '+250788460106', 6, 'pending', 'Vodacom DRC', '', '2012-05-03 14:32:59', 1)[0m
  [1m[35m (100.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '6') LIMIT 1
Completed 500 Internal Server Error in 330ms

TypeError (can't convert nil into String):
  app/controllers/service_manager_controller.rb:155:in `gsub!'
  app/controllers/service_manager_controller.rb:155:in `block (2 levels) in request_handler'
  app/controllers/service_manager_controller.rb:150:in `each'
  app/controllers/service_manager_controller.rb:150:in `block in request_handler'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (30.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44800&keyword=game&content=game" for 127.0.0.1 at 2012-05-03 16:34:16 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44800", "keyword"=>"game", "content"=>"game"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'game' or aliases like '%game%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('game', '2012-05-03 14:34:16', '44800', 0, '+250788460106', 6, 'pending', 'Vodacom DRC', '', '2012-05-03 14:34:16', 1)[0m
  [1m[35m (120.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '6') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-03 14:34:18' WHERE `inbound_messages`.`id` = 140
  [1m[36m (100.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2090ms (Views: 20.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=140&user_id=1&service=game&dest=+250788460106&sender=44800&content=Error+404+%3A+File+not+found&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-03 16:34:18 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"140", "user_id"=>"1", "service"=>"game", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Error 404 : File not found", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Error 404 : File not found', '2012-05-03 14:34:18', ' 250788460106', 140, '44800', 'game', 'submitted', 'submitted', '2012-05-03 14:34:18', 1)[0m
  [1m[35m (80.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 90ms (Views: 0.0ms | ActiveRecord: 80.0ms)


Started GET "/service_manager/record_push?inbound_id=140&user_id=1&service=game&dest=+250788460106&sender=44800&content=Error+404+%3A+File+not+found&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-03 16:34:19 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"140", "user_id"=>"1", "service"=>"game", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Error 404 : File not found", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Error 404 : File not found', '2012-05-03 14:34:19', ' 250788460106', 140, '44800', 'game', 'delivered', 'delivered', '2012-05-03 14:34:19', 1)
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 110ms (Views: 10.0ms | ActiveRecord: 60.0ms)


Started GET "/messages" for 127.0.0.1 at 2012-05-03 16:44:26 +0200
  Processing by MessagesController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` [0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '6' and date(created_at) = curdate())[0m
Rendered messages/index.html.erb within layouts/application (10.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 80ms (Views: 40.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 16:44:26 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 16:44:26 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-03 16:44:27 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.0ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (80.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 120ms (Views: 100.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-03 16:44:27 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-03 16:44:27 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44800&keyword=game&content=game" for 127.0.0.1 at 2012-05-04 07:43:32 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44800", "keyword"=>"game", "content"=>"game"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'game' or aliases like '%game%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('game', '2012-05-04 05:43:33', '44800', 0, '+250788460106', 6, 'pending', 'Vodacom DRC', '', '2012-05-04 05:43:33', 1)[0m
  [1m[35m (50.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '6') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-04 05:43:37' WHERE `inbound_messages`.`id` = 141
  [1m[36m (80.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (40.0ms)
Completed 200 OK in 4610ms (Views: 200.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=141&user_id=1&service=game&dest=+250788460106&sender=44800&content=Error+404+%3A+File+not+found&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 07:43:37 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"141", "user_id"=>"1", "service"=>"game", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Error 404 : File not found", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Error 404 : File not found', '2012-05-04 05:43:37', ' 250788460106', 141, '44800', 'game', 'delivered', 'delivered', '2012-05-04 05:43:37', 1)[0m
  [1m[35m (50.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 110ms (Views: 0.0ms | ActiveRecord: 50.0ms)


Started GET "/service_manager/record_push?inbound_id=141&user_id=1&service=game&dest=+250788460106&sender=44800&content=Error+404+%3A+File+not+found&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 07:43:37 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"141", "user_id"=>"1", "service"=>"game", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Error 404 : File not found", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Error 404 : File not found', '2012-05-04 05:43:37', ' 250788460106', 141, '44800', 'game', 'submitted', 'submitted', '2012-05-04 05:43:37', 1)
  [1m[36m (40.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 10.0ms | ActiveRecord: 40.0ms)


Started GET "/" for 127.0.0.1 at 2012-05-04 07:44:03 +0200
  Processing by HomeController#index as HTML
Rendered home/index.html.erb within layouts/home (60.0ms)
Completed 200 OK in 450ms (Views: 440.0ms | ActiveRecord: 0.0ms)


Started GET "/login/login" for 127.0.0.1 at 2012-05-04 07:44:08 +0200
  Processing by LoginController#login as HTML
Rendered login/login.html.erb within layouts/application (0.0ms)
Completed 200 OK in 180ms (Views: 10.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 07:44:08 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 07:44:08 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/login/login" for 127.0.0.1 at 2012-05-04 07:44:15 +0200
  Processing by LoginController#login as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dodJkNKgyQbE0XlkJPtXfLvPzBsntDAtTvpB1YVFuOQ=", "username"=>"sa", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (user_short_codes.user_id = 1)[0m
Redirected to http://localhost:3000/messages
Completed 302 Found in 430ms


Started GET "/messages" for 127.0.0.1 at 2012-05-04 07:44:15 +0200
  Processing by MessagesController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` [0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '6' and date(created_at) = curdate())[0m
Rendered messages/index.html.erb within layouts/application (50.0ms)
  [1m[35mUser Load (10.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 200ms (Views: 70.0ms | ActiveRecord: 70.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 07:44:16 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 07:44:16 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 07:44:57 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.0ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (60.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 110ms (Views: 70.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 07:44:57 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 07:44:57 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 07:52:08 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.0ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (20.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 90ms (Views: 50.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 07:52:08 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 07:52:08 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 07:52:10 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.0ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (20.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 90ms (Views: 40.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 07:52:10 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 07:52:10 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 07:52:10 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (10.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.0ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (50.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 90ms (Views: 70.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 07:52:10 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 07:52:10 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages" for 127.0.0.1 at 2012-05-04 07:52:13 +0200
  Processing by MessagesController#index as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mService Load (0.0ms)[0m  SELECT `services`.* FROM `services` 
  [1m[36m (10.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '6' and date(created_at) = curdate())
Rendered messages/index.html.erb within layouts/application (20.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 80ms (Views: 50.0ms | ActiveRecord: 30.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 07:52:13 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 07:52:13 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 07:52:14 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.0ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (40.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 80ms (Views: 60.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 07:52:14 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 07:52:14 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages" for 127.0.0.1 at 2012-05-04 07:52:57 +0200
  Processing by MessagesController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` [0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '6' and date(created_at) = curdate())[0m
Rendered messages/index.html.erb within layouts/application (10.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 80ms (Views: 70.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 07:52:58 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 07:52:58 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 07:52:58 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (10.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.0ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (20.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 90ms (Views: 30.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 07:52:59 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 07:52:59 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-04 07:54:23 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dodJkNKgyQbE0XlkJPtXfLvPzBsntDAtTvpB1YVFuOQ=", "message"=>{"dest"=>"2", "phone_single"=>"+243818757080", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggg"}, "send_message"=>"Send message"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 30ms


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243818757080&sender=44800&content=gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggg&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 07:54:23 +0200


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 07:54:23 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243818757080", "sender"=>"44800", "content"=>"gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggg", "smsc"=>"FAKE", "status"=>"8"}
  Processing by MessagesController#new_message as HTML
  [1m[35m (20.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggg', '2012-05-04 05:54:23', ' 243818757080', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-04 05:54:23', 1)[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35m (60.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 100ms (Views: 0.0ms | ActiveRecord: 80.0ms)
  [1m[35mGroup Load (0.0ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243818757080&sender=44800&content=gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggg&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 07:54:23 +0200
Rendered messages/new_message.html.erb within layouts/application (50.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243818757080", "sender"=>"44800", "content"=>"gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggg", "smsc"=>"FAKE", "status"=>"1"}
Completed 200 OK in 130ms (Views: 100.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggg', '2012-05-04 05:54:23', ' 243818757080', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-04 05:54:23', 1)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 07:54:24 +0200
Served asset /main.css - 304 Not Modified (0ms)
  [1m[36m (80.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 100ms (Views: 0.0ms | ActiveRecord: 90.0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 07:54:24 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44800&keyword=game&content=game" for 127.0.0.1 at 2012-05-04 08:09:36 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44800", "keyword"=>"game", "content"=>"game"}
  [1m[36mService Load (0.5ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'game' or aliases like '%game%') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('game', '2012-05-04 06:09:37', '44800', 0, '+250788460106', 6, 'pending', 'Vodacom DRC', '', '2012-05-04 06:09:37', 1)[0m
  [1m[35m (50.8ms)[0m  COMMIT
  [1m[36mShortCode Load (0.3ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mWebService Load (0.2ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '6') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-04 06:09:39' WHERE `inbound_messages`.`id` = 142
  [1m[36m (97.1ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.2ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (10.3ms)
Completed 200 OK in 2531ms (Views: 159.6ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=142&user_id=1&service=game&dest=+250788460106&sender=44800&content=Error+404+%3A+File+not+found&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 08:09:39 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"142", "user_id"=>"1", "service"=>"game", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Error 404 : File not found", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Error 404 : File not found', '2012-05-04 06:09:39', ' 250788460106', 142, '44800', 'game', 'submitted', 'submitted', '2012-05-04 06:09:39', 1)[0m
  [1m[35m (42.8ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.3ms)
Completed 200 OK in 104ms (Views: 4.8ms | ActiveRecord: 45.1ms)


Started GET "/service_manager/record_push?inbound_id=142&user_id=1&service=game&dest=+250788460106&sender=44800&content=Error+404+%3A+File+not+found&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 08:09:39 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"142", "user_id"=>"1", "service"=>"game", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Error 404 : File not found", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Error 404 : File not found', '2012-05-04 06:09:39', ' 250788460106', 142, '44800', 'game', 'delivered', 'delivered', '2012-05-04 06:09:39', 1)
  [1m[36m (39.6ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 59ms (Views: 4.5ms | ActiveRecord: 41.1ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:09:45 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.4ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.2ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (109.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 236ms (Views: 195.4ms | ActiveRecord: 5.2ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:09:46 +0200
Served asset /main.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:09:46 +0200
Served asset /jquery.js - 200 OK (0ms)


Started GET "/messages/ezgate.ico" for 127.0.0.1 at 2012-05-04 08:09:47 +0200
  Processing by MessagesController#show as 
  Parameters: {"id"=>"ezgate"}
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
Rendered messages/show.html.erb within layouts/application (0.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 67ms (Views: 57.0ms | ActiveRecord: 2.2ms)


Started GET "/messages" for 127.0.0.1 at 2012-05-04 08:10:48 +0200
  Processing by MessagesController#index as HTML
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mService Load (0.3ms)[0m  SELECT `services`.* FROM `services` 
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '6' and date(created_at) = curdate())
Rendered messages/index.html.erb within layouts/application (20.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 98ms (Views: 39.6ms | ActiveRecord: 5.8ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:10:49 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:10:49 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/ezgate.ico" for 127.0.0.1 at 2012-05-04 08:10:49 +0200

ActionController::RoutingError (No route matches [GET] "/ezgate.ico"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.4ms)


Started GET "/ezgate.ico" for 127.0.0.1 at 2012-05-04 08:10:49 +0200

ActionController::RoutingError (No route matches [GET] "/ezgate.ico"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:10:50 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.3ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.2ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (50.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 93ms (Views: 68.7ms | ActiveRecord: 5.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:10:50 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:10:50 +0200
Served asset /jquery.js - 304 Not Modified (1ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-04 08:11:26 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dodJkNKgyQbE0XlkJPtXfLvPzBsntDAtTvpB1YVFuOQ=", "message"=>{"dest"=>"2", "phone_single"=>"+243828757080", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggPPPPP"}, "send_message"=>"Send message"}
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.2ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 62ms


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243828757080&sender=44800&content=gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggPPPPP&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 08:11:26 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243828757080", "sender"=>"44800", "content"=>"gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggPPPPP", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggPPPPP', '2012-05-04 06:11:26', ' 243828757080', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-04 06:11:26', 1)[0m


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:11:26 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35m (67.7ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 87ms (Views: 4.5ms | ActiveRecord: 69.2ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243828757080&sender=44800&content=gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggPPPPP&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 08:11:26 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243828757080", "sender"=>"44800", "content"=>"gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggPPPPP", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35mShortCode Load (0.3ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.3ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (104.7ms)
  [1m[36m (15.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggPPPPP', '2012-05-04 06:11:26', ' 243828757080', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-04 06:11:26', 1)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 151ms (Views: 102.4ms | ActiveRecord: 29.7ms)
  [1m[36m (91.7ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 152ms (Views: 4.5ms | ActiveRecord: 126.4ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:11:26 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:11:26 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44800&keyword=game&content=game" for 127.0.0.1 at 2012-05-04 08:11:44 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44800", "keyword"=>"game", "content"=>"game"}
  [1m[35mService Load (0.3ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'game' or aliases like '%game%') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('game', '2012-05-04 06:11:44', '44800', 0, '+250788460106', 6, 'pending', 'Vodacom DRC', '', '2012-05-04 06:11:44', 1)
  [1m[36m (68.5ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.2ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mWebService Load (0.2ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '6') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mUPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-04 06:11:47' WHERE `inbound_messages`.`id` = 143[0m
  [1m[35m (93.7ms)[0m  COMMIT
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.1ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2469ms (Views: 4.4ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=143&user_id=1&service=game&dest=+250788460106&sender=44800&content=Error+404+%3A+File+not+found&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 08:11:47 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"143", "user_id"=>"1", "service"=>"game", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Error 404 : File not found", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Error 404 : File not found', '2012-05-04 06:11:47', ' 250788460106', 143, '44800', 'game', 'submitted', 'submitted', '2012-05-04 06:11:47', 1)
  [1m[36m (56.9ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 74ms (Views: 4.5ms | ActiveRecord: 58.4ms)


Started GET "/service_manager/record_push?inbound_id=143&user_id=1&service=game&dest=+250788460106&sender=44800&content=Error+404+%3A+File+not+found&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 08:11:47 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"143", "user_id"=>"1", "service"=>"game", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Error 404 : File not found", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Error 404 : File not found', '2012-05-04 06:11:47', ' 250788460106', 143, '44800', 'game', 'delivered', 'delivered', '2012-05-04 06:11:47', 1)[0m
  [1m[35m (38.5ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 55ms (Views: 4.4ms | ActiveRecord: 40.0ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-04 08:16:00 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dodJkNKgyQbE0XlkJPtXfLvPzBsntDAtTvpB1YVFuOQ=", "message"=>{"dest"=>"2", "phone_single"=>"+243818757080", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}, "send_message"=>"Send message"}
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.2ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 39ms


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:16:00 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.2ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.2ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (46.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 89ms (Views: 65.7ms | ActiveRecord: 4.3ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:16:00 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:16:00 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243818757080&sender=44800&content=ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 08:16:26 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243818757080", "sender"=>"44800", "content"=>"ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA', '2012-05-04 06:16:26', ' 243818757080', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-04 06:16:26', 1)
  [1m[36m (86.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 103ms (Views: 4.4ms | ActiveRecord: 87.5ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44800&keyword=game&content=game" for 127.0.0.1 at 2012-05-04 08:16:26 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44800", "keyword"=>"game", "content"=>"game"}
  [1m[35mService Load (0.4ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'game' or aliases like '%game%') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('game', '2012-05-04 06:16:26', '44800', 0, '+250788460106', 6, 'pending', 'Vodacom DRC', '', '2012-05-04 06:16:26', 1)
  [1m[36m (50.3ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.2ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mWebService Load (0.2ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '6') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mUPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-04 06:16:29' WHERE `inbound_messages`.`id` = 144[0m
  [1m[35m (98.6ms)[0m  COMMIT
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.1ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 2850ms (Views: 4.7ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243818757080&sender=44800&content=ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 08:16:29 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243818757080", "sender"=>"44800", "content"=>"ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA', '2012-05-04 06:16:29', ' 243818757080', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-04 06:16:29', 1)
  [1m[36m (54.3ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 72ms (Views: 4.4ms | ActiveRecord: 56.1ms)


Started GET "/service_manager/record_push?inbound_id=144&user_id=1&service=game&dest=+250788460106&sender=44800&content=Error+404+%3A+File+not+found&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 08:16:29 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"144", "user_id"=>"1", "service"=>"game", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Error 404 : File not found", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Error 404 : File not found', '2012-05-04 06:16:29', ' 250788460106', 144, '44800', 'game', 'submitted', 'submitted', '2012-05-04 06:16:29', 1)[0m
  [1m[35m (61.5ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 4.6ms | ActiveRecord: 63.1ms)


Started GET "/service_manager/record_push?inbound_id=144&user_id=1&service=game&dest=+250788460106&sender=44800&content=Error+404+%3A+File+not+found&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 08:16:29 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"144", "user_id"=>"1", "service"=>"game", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Error 404 : File not found", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Error 404 : File not found', '2012-05-04 06:16:29', ' 250788460106', 144, '44800', 'game', 'delivered', 'delivered', '2012-05-04 06:16:29', 1)
  [1m[36m (53.2ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 95ms (Views: 4.4ms | ActiveRecord: 54.9ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-04 08:16:54 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dodJkNKgyQbE0XlkJPtXfLvPzBsntDAtTvpB1YVFuOQ=", "message"=>{"dest"=>"2", "phone_single"=>"+243828757080", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggBbbbbb"}, "send_message"=>"Send message"}
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.2ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 80ms


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243828757080&sender=44800&content=ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggBbbbbb&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 08:16:54 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243828757080", "sender"=>"44800", "content"=>"ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggBbbbbb", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggBbbbbb', '2012-05-04 06:16:54', ' 243828757080', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-04 06:16:54', 1)[0m


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:16:54 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35m (96.9ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 114ms (Views: 4.5ms | ActiveRecord: 98.4ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243828757080&sender=44800&content=ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggBbbbbb&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 08:16:54 +0200
  [1m[36mUserDetail Load (0.3ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.2ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.2ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (51.9ms)
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243828757080", "sender"=>"44800", "content"=>"ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggBbbbbb", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggBbbbbb', '2012-05-04 06:16:54', ' 243828757080', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-04 06:16:54', 1)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 163ms (Views: 114.4ms | ActiveRecord: 9.7ms)
  [1m[36m (67.6ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 101ms (Views: 4.5ms | ActiveRecord: 74.3ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:16:54 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:16:54 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-04 08:18:39 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dodJkNKgyQbE0XlkJPtXfLvPzBsntDAtTvpB1YVFuOQ=", "message"=>{"dest"=>"2", "phone_single"=>"+243828757080", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"}, "send_message"=>"Send message"}
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.2ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 71ms


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:18:39 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.2ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.2ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (20.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 64ms (Views: 39.0ms | ActiveRecord: 4.2ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:18:39 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:18:39 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243828757080&sender=44800&content=gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 08:18:46 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243828757080", "sender"=>"44800", "content"=>"gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF', '2012-05-04 06:18:46', ' 243828757080', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-04 06:18:46', 1)[0m
  [1m[35m (117.3ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 164ms (Views: 4.7ms | ActiveRecord: 124.1ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44800&keyword=game&content=game" for 127.0.0.1 at 2012-05-04 08:18:46 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44800", "keyword"=>"game", "content"=>"game"}
  [1m[36mService Load (0.3ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'game' or aliases like '%game%') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('game', '2012-05-04 06:18:46', '44800', 0, '+250788460106', 6, 'pending', 'Vodacom DRC', '', '2012-05-04 06:18:46', 1)[0m
  [1m[35m (49.4ms)[0m  COMMIT
  [1m[36mShortCode Load (0.2ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mWebService Load (0.2ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '6') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-04 06:18:48' WHERE `inbound_messages`.`id` = 145
  [1m[36m (88.7ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.1ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 1666ms (Views: 4.4ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243828757080&sender=44800&content=gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 08:18:48 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243828757080", "sender"=>"44800", "content"=>"gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF', '2012-05-04 06:18:48', ' 243828757080', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-04 06:18:48', 1)[0m
  [1m[35m (52.4ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 69ms (Views: 4.5ms | ActiveRecord: 54.1ms)


Started GET "/service_manager/record_push?inbound_id=145&user_id=1&service=game&dest=+250788460106&sender=44800&content=Error+404+%3A+File+not+found&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 08:18:48 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"145", "user_id"=>"1", "service"=>"game", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Error 404 : File not found", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Error 404 : File not found', '2012-05-04 06:18:48', ' 250788460106', 145, '44800', 'game', 'delivered', 'delivered', '2012-05-04 06:18:48', 1)
  [1m[36m (34.3ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 75ms (Views: 28.4ms | ActiveRecord: 35.8ms)


Started GET "/service_manager/record_push?inbound_id=145&user_id=1&service=game&dest=+250788460106&sender=44800&content=Error+404+%3A+File+not+found&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 08:18:48 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"145", "user_id"=>"1", "service"=>"game", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Error 404 : File not found", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Error 404 : File not found', '2012-05-04 06:18:48', ' 250788460106', 145, '44800', 'game', 'submitted', 'submitted', '2012-05-04 06:18:48', 1)[0m
  [1m[35m (44.8ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 63ms (Views: 4.4ms | ActiveRecord: 46.4ms)


Started GET "/messages" for 127.0.0.1 at 2012-05-04 08:19:05 +0200
  Processing by MessagesController#index as HTML
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mService Load (0.3ms)[0m  [1mSELECT `services`.* FROM `services` [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '6' and date(created_at) = curdate())[0m
Rendered messages/index.html.erb within layouts/application (41.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 80ms (Views: 59.2ms | ActiveRecord: 4.9ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:19:05 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:19:05 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/outbound" for 127.0.0.1 at 2012-05-04 08:19:07 +0200
  Processing by MessagesController#outbound as HTML
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `outbound_messages` 
  [1m[36mService Load (0.3ms)[0m  [1mSELECT `services`.* FROM `services` ORDER BY name ASC[0m
  [1m[35mShortCode Load (0.2ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE (code != 'All')
  [1m[36mOutboundMessage Load (1.5ms)[0m  [1mSELECT `outbound_messages`.* FROM `outbound_messages` ORDER BY created_at DESC LIMIT 50[0m
Rendered messages/_outbound_messages.html.erb (32.4ms)
Rendered messages/outbound.html.erb within layouts/application (154.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 212ms (Views: 194.0ms | ActiveRecord: 8.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:19:07 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:19:07 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/view_outbound_message?id=166" for 127.0.0.1 at 2012-05-04 08:19:12 +0200
  Processing by MessagesController#view_outbound_message as HTML
  Parameters: {"id"=>"166"}
  [1m[36mUserDetail Load (0.3ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mOutboundMessage Load (0.2ms)[0m  SELECT `outbound_messages`.* FROM `outbound_messages` WHERE (id = '166') LIMIT 1
Rendered messages/view_outbound_message.html.erb (33.0ms)
Completed 200 OK in 52ms (Views: 35.2ms | ActiveRecord: 6.2ms)


Started GET "/messages" for 127.0.0.1 at 2012-05-04 08:20:17 +0200
  Processing by MessagesController#index as HTML
  [1m[36mUserDetail Load (4.6ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mService Load (0.4ms)[0m  SELECT `services`.* FROM `services` 
  [1m[36m (5.9ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '6' and date(created_at) = curdate())
Rendered messages/index.html.erb within layouts/application (97.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 183ms (Views: 113.2ms | ActiveRecord: 40.2ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:20:17 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:20:17 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:20:18 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.3ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.2ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (21.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 99ms (Views: 74.2ms | ActiveRecord: 4.8ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:20:19 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:20:19 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:24:35 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_messages_new_message_html_erb__2060284776986558084_33045780 RAISED /home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:104: syntax error, unexpected keyword_end, expecting ')'
');       end 
             ^
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:109: syntax error, unexpected keyword_ensure, expecting ')'
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:111: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _app_views_messages_new_message_html_erb__2060284776986558084_33045780(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "messages/new_message";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<script language="javascript">
  function validateSendM() {
    if ($("message_dest") != null){
      var code = document.getElementById(\'message_dest\').value
    }
    else{
      var code ="owner"
    }
    var mess = document.getElementById(\'message_content\').value
    if (code==null||code=="") {
      document.getElementById(\'message_dest\').style.backgroundColor=\'#FFFFB0\';
      
      alert(\'Please select short code!\');
      return false;
		  
    }
    if (mess==null||mess=="")
    {
      document.getElementById(\'message_content\').style.backgroundColor=\'#FFFFB0\';
      alert(\'Message content is empty!\');
      return false;
    }

    var phone2 = /^(\\+24381|24381|\\+24382|24382|081|082)\\d{7}$/;
    var phone_number = document.getElementById(\'message_phone_single\').value
    if (phone_number.match(phone2)) {
      return true;
    } else {
      document.getElementById(\'message_phone_single\').style.backgroundColor=\'#FFFFB0\';
      document.getElementById(\'message_phone_single\').style.borderColor=\'#666666\';
      document.getElementById(\'message_phone_single\').value = \'+2438\'
      alert(\'Invalid phone number format!\');
      return false;
    }
  }
</script>
<div id="content">
');   if flash[:notice] 
@output_buffer.safe_concat('    <div id="flash">
      <div style="margin-bottom:0px;">
        ');@output_buffer.append= ( flash[:notice] );@output_buffer.safe_concat('
');@output_buffer.safe_concat('      </div>
      <script type="text/javascript">
        setTimeout("new Effect.Fade(\'flash\');", 500)
      </script>
    </div>
');   end 
@output_buffer.safe_concat('
  <h2>');@output_buffer.append= ( link_to "Messages", messages_path);@output_buffer.safe_concat(' > Send message&nbsp;&nbsp;
    ');@output_buffer.append= ( image_tag("spinner2.gif",:align => "absmiddle",
      :border => 0,:id => "spinner2",
      :style =>"display: none;" ) );@output_buffer.safe_concat('</h2>
');   if session[:user_type] == "SA"
     @conditions = "code != 'All'"
   else 
     @conditions = "user_id = #{session[:user_id]}"
   end 
@output_buffer.safe_concat('  <div id="send_sms">
    <table>
      ');@output_buffer.append=  form_tag :controller => "messages", :action => 'send_message', :id => @message do @output_buffer.safe_concat('
        <tr>
          <td>Short code</td><td>');@output_buffer.append= ( collection_select 'message', 'dest',
              ShortCode.find(:all, :conditions => @conditions, :joins => "left join user_short_codes on user_short_codes.short_code_id=short_codes.id",	:select => "user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc"), :id, :short_code_with_smsc );@output_buffer.safe_concat('</td>
        </tr>
        <tr id="single_p">
          <td>Phone number</td><td>');@output_buffer.append= ( collection_select 'message', 'prefix', select(:service, :content_type, Service::Prefixes );@output_buffer.safe_concat(' ');@output_buffer.append= ( text_field :message, :phone_single, :size => 8, :value => "", :onKeyUp => "checkPhone(this);", :onKeyDown => "checkPhone(this);" );@output_buffer.safe_concat('</td>
        </tr>
        <tr id="multi_p" style="display: none;">
          <td>Phone (multiple)</td><td>');@output_buffer.append= ( text_field :message, :phone_multi, :size => 50 );@output_buffer.safe_concat('</td>
        </tr>
        <tr id="csv_p" style="display: none;">
          <td>File</td>
          <td>');@output_buffer.append= ( file_field :message, :file );@output_buffer.safe_concat('          </td>
        </tr>
        <tr id="group_p" style="display: none;">
          <td>Group</td>
          <td>');@output_buffer.append= ( collection_select :message, :group_id, Group.find(:all, :conditions => "user_id='#{session[:user_id]}'"), :id, :name, :prompt => "Select" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('          </td>
        </tr>
        <tr>
          <td>Message</td><td>');@output_buffer.append= ( text_area :message, :content, :rows => 8, :cols => 40, :onKeyUp => "textCounter(this, document.getElementById('len'), 480)", :onKeyDown => "textCounter(this, document.getElementById('len'), 480)" );@output_buffer.safe_concat('</td>
        </tr>
        <tr><td><input readonly type="text" id="len" size="3" maxlength="3" value="480"/>characters left</td></tr>

        <tr>
');           if @status == 0
@output_buffer.safe_concat('            <td bgcolor = "#fbb508">SMS Gateway not available</td>
');           else 
             if @curr_status == "isolated"
@output_buffer.safe_concat('              <td bgcolor = "#fbb508">SMS Gateway ISOLATED</td>
              <td><i>Cannot send messages for the moment, contact your sys. admin.</i></td>
');             else 
               if @curr_status == "running" and @box_status != nil
@output_buffer.safe_concat('                <td>
                  <a class="submit">');@output_buffer.append= ( submit_tag "Send message", :name => "send_message", :onclick =>  "return validateSendM()" );@output_buffer.safe_concat('</a>
                </td>
');               else 
@output_buffer.safe_concat('                <td bgcolor = "#fbb508">SMS Box not available</td>
                <td><i>Cannot send messages for the moment, contact your sys. admin.</i></td>
');               end 
             end 
           end 
@output_buffer.safe_concat('        </tr>
');       end 
@output_buffer.safe_concat('    </table>
  </div>
</div>
');@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:309:in `module_eval'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:309:in `compile'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:217:in `compile!'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:170:in `block in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:55:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:169:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:9:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/renderer.rb:36:in `render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/renderer.rb:17:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:120:in `_render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:99:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rendering.rb:16:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/mutesa/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/base.rb:167:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:443:in `_run__3280665341834252144__process_action__4153198899679389358__callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/base.rb:121:in `process'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:45:in `process'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal.rb:193:in `dispatch'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal.rb:236:in `block in action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:65:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:29:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:532:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/etag.rb:23:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/conditionalget.rb:25:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/flash.rb:247:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/session/abstract/id.rb:195:in `context'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/session/abstract/id.rb:190:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/cookies.rb:331:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/query_cache.rb:64:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/sendfile.rb:101:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.3/lib/rails/rack/logger.rb:13:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/methodoverride.rb:24:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/runtime.rb:17:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/lock.rb:15:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/static.rb:53:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.3/lib/rails/engine.rb:456:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/content_length.rb:14:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.3/lib/rails/rack/log_tailer.rb:14:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/handler/mongrel.rb:77:in `process'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:165:in `block in process_client'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:164:in `each'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:164:in `process_client'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:291:in `block (2 levels) in run'
Rendered messages/new_message.html.erb within layouts/application (20.9ms)
Completed 500 Internal Server Error in 71ms

ActionView::Template::Error (/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:104: syntax error, unexpected keyword_end, expecting ')'
');       end 
             ^
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:109: syntax error, unexpected keyword_ensure, expecting ')'
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:111: syntax error, unexpected keyword_end, expecting ')'):
    101:                 <td><i>Cannot send messages for the moment, contact your sys. admin.</i></td>
    102:               <% end %>
    103:             <% end %>
    104:           <% end %>
    105:         </tr>
    106:       <% end -%>
    107:     </table>
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.9ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:25:13 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_messages_new_message_html_erb__2060284776986558084_30052900 RAISED /home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:104: syntax error, unexpected keyword_end, expecting ')'
');       end 
             ^
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:109: syntax error, unexpected keyword_ensure, expecting ')'
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:111: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _app_views_messages_new_message_html_erb__2060284776986558084_30052900(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "messages/new_message";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<script language="javascript">
  function validateSendM() {
    if ($("message_dest") != null){
      var code = document.getElementById(\'message_dest\').value
    }
    else{
      var code ="owner"
    }
    var mess = document.getElementById(\'message_content\').value
    if (code==null||code=="") {
      document.getElementById(\'message_dest\').style.backgroundColor=\'#FFFFB0\';
      
      alert(\'Please select short code!\');
      return false;
		  
    }
    if (mess==null||mess=="")
    {
      document.getElementById(\'message_content\').style.backgroundColor=\'#FFFFB0\';
      alert(\'Message content is empty!\');
      return false;
    }

    var phone2 = /^(\\+24381|24381|\\+24382|24382|081|082)\\d{7}$/;
    var phone_number = document.getElementById(\'message_phone_single\').value
    if (phone_number.match(phone2)) {
      return true;
    } else {
      document.getElementById(\'message_phone_single\').style.backgroundColor=\'#FFFFB0\';
      document.getElementById(\'message_phone_single\').style.borderColor=\'#666666\';
      document.getElementById(\'message_phone_single\').value = \'+2438\'
      alert(\'Invalid phone number format!\');
      return false;
    }
  }
</script>
<div id="content">
');   if flash[:notice] 
@output_buffer.safe_concat('    <div id="flash">
      <div style="margin-bottom:0px;">
        ');@output_buffer.append= ( flash[:notice] );@output_buffer.safe_concat('
');@output_buffer.safe_concat('      </div>
      <script type="text/javascript">
        setTimeout("new Effect.Fade(\'flash\');", 500)
      </script>
    </div>
');   end 
@output_buffer.safe_concat('
  <h2>');@output_buffer.append= ( link_to "Messages", messages_path);@output_buffer.safe_concat(' > Send message&nbsp;&nbsp;
    ');@output_buffer.append= ( image_tag("spinner2.gif",:align => "absmiddle",
      :border => 0,:id => "spinner2",
      :style =>"display: none;" ) );@output_buffer.safe_concat('</h2>
');   if session[:user_type] == "SA"
     @conditions = "code != 'All'"
   else 
     @conditions = "user_id = #{session[:user_id]}"
   end 
@output_buffer.safe_concat('  <div id="send_sms">
    <table>
      ');@output_buffer.append=  form_tag :controller => "messages", :action => 'send_message', :id => @message do @output_buffer.safe_concat('
        <tr>
          <td>Short code</td><td>');@output_buffer.append= ( collection_select 'message', 'dest',
              ShortCode.find(:all, :conditions => @conditions, :joins => "left join user_short_codes on user_short_codes.short_code_id=short_codes.id",	:select => "user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc"), :id, :short_code_with_smsc );@output_buffer.safe_concat('</td>
        </tr>
        <tr id="single_p">
          <td>Phone number</td><td>');@output_buffer.append= ( select(:message, :prefix, Service::Prefixes );@output_buffer.safe_concat(' ');@output_buffer.append= ( text_field :message, :phone_single, :size => 8, :value => "", :onKeyUp => "checkPhone(this);", :onKeyDown => "checkPhone(this);" );@output_buffer.safe_concat('</td>
        </tr>
        <tr id="multi_p" style="display: none;">
          <td>Phone (multiple)</td><td>');@output_buffer.append= ( text_field :message, :phone_multi, :size => 50 );@output_buffer.safe_concat('</td>
        </tr>
        <tr id="csv_p" style="display: none;">
          <td>File</td>
          <td>');@output_buffer.append= ( file_field :message, :file );@output_buffer.safe_concat('          </td>
        </tr>
        <tr id="group_p" style="display: none;">
          <td>Group</td>
          <td>');@output_buffer.append= ( collection_select :message, :group_id, Group.find(:all, :conditions => "user_id='#{session[:user_id]}'"), :id, :name, :prompt => "Select" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('          </td>
        </tr>
        <tr>
          <td>Message</td><td>');@output_buffer.append= ( text_area :message, :content, :rows => 8, :cols => 40, :onKeyUp => "textCounter(this, document.getElementById('len'), 480)", :onKeyDown => "textCounter(this, document.getElementById('len'), 480)" );@output_buffer.safe_concat('</td>
        </tr>
        <tr><td><input readonly type="text" id="len" size="3" maxlength="3" value="480"/>characters left</td></tr>

        <tr>
');           if @status == 0
@output_buffer.safe_concat('            <td bgcolor = "#fbb508">SMS Gateway not available</td>
');           else 
             if @curr_status == "isolated"
@output_buffer.safe_concat('              <td bgcolor = "#fbb508">SMS Gateway ISOLATED</td>
              <td><i>Cannot send messages for the moment, contact your sys. admin.</i></td>
');             else 
               if @curr_status == "running" and @box_status != nil
@output_buffer.safe_concat('                <td>
                  <a class="submit">');@output_buffer.append= ( submit_tag "Send message", :name => "send_message", :onclick =>  "return validateSendM()" );@output_buffer.safe_concat('</a>
                </td>
');               else 
@output_buffer.safe_concat('                <td bgcolor = "#fbb508">SMS Box not available</td>
                <td><i>Cannot send messages for the moment, contact your sys. admin.</i></td>
');               end 
             end 
           end 
@output_buffer.safe_concat('        </tr>
');       end 
@output_buffer.safe_concat('    </table>
  </div>
</div>
');@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:309:in `module_eval'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:309:in `compile'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:217:in `compile!'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:170:in `block in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:55:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:169:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:9:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/renderer.rb:36:in `render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/renderer.rb:17:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:120:in `_render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:99:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rendering.rb:16:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/mutesa/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/base.rb:167:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:443:in `_run__3280665341834252144__process_action__4153198899679389358__callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/base.rb:121:in `process'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:45:in `process'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal.rb:193:in `dispatch'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal.rb:236:in `block in action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:65:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:29:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:532:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/etag.rb:23:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/conditionalget.rb:25:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/flash.rb:247:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/session/abstract/id.rb:195:in `context'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/session/abstract/id.rb:190:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/cookies.rb:331:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/query_cache.rb:64:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/sendfile.rb:101:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.3/lib/rails/rack/logger.rb:13:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/methodoverride.rb:24:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/runtime.rb:17:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/lock.rb:15:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/static.rb:53:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.3/lib/rails/engine.rb:456:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/content_length.rb:14:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.3/lib/rails/rack/log_tailer.rb:14:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/handler/mongrel.rb:77:in `process'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:165:in `block in process_client'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:164:in `each'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:164:in `process_client'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:291:in `block (2 levels) in run'
Rendered messages/new_message.html.erb within layouts/application (1.8ms)
Completed 500 Internal Server Error in 26ms

ActionView::Template::Error (/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:104: syntax error, unexpected keyword_end, expecting ')'
');       end 
             ^
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:109: syntax error, unexpected keyword_ensure, expecting ')'
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:111: syntax error, unexpected keyword_end, expecting ')'):
    101:                 <td><i>Cannot send messages for the moment, contact your sys. admin.</i></td>
    102:               <% end %>
    103:             <% end %>
    104:           <% end %>
    105:         </tr>
    106:       <% end -%>
    107:     </table>
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.4ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:25:13 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
ERROR: compiling _app_views_messages_new_message_html_erb__2060284776986558084_30052900 RAISED /home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:104: syntax error, unexpected keyword_end, expecting ')'
');       end 
             ^
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:109: syntax error, unexpected keyword_ensure, expecting ')'
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:111: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _app_views_messages_new_message_html_erb__2060284776986558084_30052900(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "messages/new_message";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<script language="javascript">
  function validateSendM() {
    if ($("message_dest") != null){
      var code = document.getElementById(\'message_dest\').value
    }
    else{
      var code ="owner"
    }
    var mess = document.getElementById(\'message_content\').value
    if (code==null||code=="") {
      document.getElementById(\'message_dest\').style.backgroundColor=\'#FFFFB0\';
      
      alert(\'Please select short code!\');
      return false;
		  
    }
    if (mess==null||mess=="")
    {
      document.getElementById(\'message_content\').style.backgroundColor=\'#FFFFB0\';
      alert(\'Message content is empty!\');
      return false;
    }

    var phone2 = /^(\\+24381|24381|\\+24382|24382|081|082)\\d{7}$/;
    var phone_number = document.getElementById(\'message_phone_single\').value
    if (phone_number.match(phone2)) {
      return true;
    } else {
      document.getElementById(\'message_phone_single\').style.backgroundColor=\'#FFFFB0\';
      document.getElementById(\'message_phone_single\').style.borderColor=\'#666666\';
      document.getElementById(\'message_phone_single\').value = \'+2438\'
      alert(\'Invalid phone number format!\');
      return false;
    }
  }
</script>
<div id="content">
');   if flash[:notice] 
@output_buffer.safe_concat('    <div id="flash">
      <div style="margin-bottom:0px;">
        ');@output_buffer.append= ( flash[:notice] );@output_buffer.safe_concat('
');@output_buffer.safe_concat('      </div>
      <script type="text/javascript">
        setTimeout("new Effect.Fade(\'flash\');", 500)
      </script>
    </div>
');   end 
@output_buffer.safe_concat('
  <h2>');@output_buffer.append= ( link_to "Messages", messages_path);@output_buffer.safe_concat(' > Send message&nbsp;&nbsp;
    ');@output_buffer.append= ( image_tag("spinner2.gif",:align => "absmiddle",
      :border => 0,:id => "spinner2",
      :style =>"display: none;" ) );@output_buffer.safe_concat('</h2>
');   if session[:user_type] == "SA"
     @conditions = "code != 'All'"
   else 
     @conditions = "user_id = #{session[:user_id]}"
   end 
@output_buffer.safe_concat('  <div id="send_sms">
    <table>
      ');@output_buffer.append=  form_tag :controller => "messages", :action => 'send_message', :id => @message do @output_buffer.safe_concat('
        <tr>
          <td>Short code</td><td>');@output_buffer.append= ( collection_select 'message', 'dest',
              ShortCode.find(:all, :conditions => @conditions, :joins => "left join user_short_codes on user_short_codes.short_code_id=short_codes.id",	:select => "user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc"), :id, :short_code_with_smsc );@output_buffer.safe_concat('</td>
        </tr>
        <tr id="single_p">
          <td>Phone number</td><td>');@output_buffer.append= ( select(:message, :prefix, Service::Prefixes );@output_buffer.safe_concat(' ');@output_buffer.append= ( text_field :message, :phone_single, :size => 8, :value => "", :onKeyUp => "checkPhone(this);", :onKeyDown => "checkPhone(this);" );@output_buffer.safe_concat('</td>
        </tr>
        <tr id="multi_p" style="display: none;">
          <td>Phone (multiple)</td><td>');@output_buffer.append= ( text_field :message, :phone_multi, :size => 50 );@output_buffer.safe_concat('</td>
        </tr>
        <tr id="csv_p" style="display: none;">
          <td>File</td>
          <td>');@output_buffer.append= ( file_field :message, :file );@output_buffer.safe_concat('          </td>
        </tr>
        <tr id="group_p" style="display: none;">
          <td>Group</td>
          <td>');@output_buffer.append= ( collection_select :message, :group_id, Group.find(:all, :conditions => "user_id='#{session[:user_id]}'"), :id, :name, :prompt => "Select" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('          </td>
        </tr>
        <tr>
          <td>Message</td><td>');@output_buffer.append= ( text_area :message, :content, :rows => 8, :cols => 40, :onKeyUp => "textCounter(this, document.getElementById('len'), 480)", :onKeyDown => "textCounter(this, document.getElementById('len'), 480)" );@output_buffer.safe_concat('</td>
        </tr>
        <tr><td><input readonly type="text" id="len" size="3" maxlength="3" value="480"/>characters left</td></tr>

        <tr>
');           if @status == 0
@output_buffer.safe_concat('            <td bgcolor = "#fbb508">SMS Gateway not available</td>
');           else 
             if @curr_status == "isolated"
@output_buffer.safe_concat('              <td bgcolor = "#fbb508">SMS Gateway ISOLATED</td>
              <td><i>Cannot send messages for the moment, contact your sys. admin.</i></td>
');             else 
               if @curr_status == "running" and @box_status != nil
@output_buffer.safe_concat('                <td>
                  <a class="submit">');@output_buffer.append= ( submit_tag "Send message", :name => "send_message", :onclick =>  "return validateSendM()" );@output_buffer.safe_concat('</a>
                </td>
');               else 
@output_buffer.safe_concat('                <td bgcolor = "#fbb508">SMS Box not available</td>
                <td><i>Cannot send messages for the moment, contact your sys. admin.</i></td>
');               end 
             end 
           end 
@output_buffer.safe_concat('        </tr>
');       end 
@output_buffer.safe_concat('    </table>
  </div>
</div>
');@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:309:in `module_eval'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:309:in `compile'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:217:in `compile!'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:170:in `block in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:55:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:169:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:9:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/renderer.rb:36:in `render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/renderer.rb:17:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:120:in `_render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:99:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rendering.rb:16:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/mutesa/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/base.rb:167:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:443:in `_run__3280665341834252144__process_action__4153198899679389358__callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/base.rb:121:in `process'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:45:in `process'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal.rb:193:in `dispatch'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal.rb:236:in `block in action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:65:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:29:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:532:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/etag.rb:23:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/conditionalget.rb:25:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/flash.rb:247:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/session/abstract/id.rb:195:in `context'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/session/abstract/id.rb:190:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/cookies.rb:331:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/query_cache.rb:64:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/sendfile.rb:101:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.3/lib/rails/rack/logger.rb:13:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/methodoverride.rb:24:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/runtime.rb:17:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/lock.rb:15:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/static.rb:53:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.3/lib/rails/engine.rb:456:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/content_length.rb:14:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.3/lib/rails/rack/log_tailer.rb:14:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/handler/mongrel.rb:77:in `process'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:165:in `block in process_client'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:164:in `each'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:164:in `process_client'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:291:in `block (2 levels) in run'
Rendered messages/new_message.html.erb within layouts/application (1.2ms)
Completed 500 Internal Server Error in 24ms

ActionView::Template::Error (/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:104: syntax error, unexpected keyword_end, expecting ')'
');       end 
             ^
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:109: syntax error, unexpected keyword_ensure, expecting ')'
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:111: syntax error, unexpected keyword_end, expecting ')'):
    101:                 <td><i>Cannot send messages for the moment, contact your sys. admin.</i></td>
    102:               <% end %>
    103:             <% end %>
    104:           <% end %>
    105:         </tr>
    106:       <% end -%>
    107:     </table>
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (3.2ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (5.4ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:25:15 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
ERROR: compiling _app_views_messages_new_message_html_erb__2060284776986558084_30052900 RAISED /home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:104: syntax error, unexpected keyword_end, expecting ')'
');       end 
             ^
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:109: syntax error, unexpected keyword_ensure, expecting ')'
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:111: syntax error, unexpected keyword_end, expecting ')'
Function body:           def _app_views_messages_new_message_html_erb__2060284776986558084_30052900(local_assigns, output_buffer)
            _old_virtual_path, @virtual_path = @virtual_path, "messages/new_message";_old_output_buffer = @output_buffer;;@output_buffer = output_buffer || ActionView::OutputBuffer.new;@output_buffer.safe_concat('<script language="javascript">
  function validateSendM() {
    if ($("message_dest") != null){
      var code = document.getElementById(\'message_dest\').value
    }
    else{
      var code ="owner"
    }
    var mess = document.getElementById(\'message_content\').value
    if (code==null||code=="") {
      document.getElementById(\'message_dest\').style.backgroundColor=\'#FFFFB0\';
      
      alert(\'Please select short code!\');
      return false;
		  
    }
    if (mess==null||mess=="")
    {
      document.getElementById(\'message_content\').style.backgroundColor=\'#FFFFB0\';
      alert(\'Message content is empty!\');
      return false;
    }

    var phone2 = /^(\\+24381|24381|\\+24382|24382|081|082)\\d{7}$/;
    var phone_number = document.getElementById(\'message_phone_single\').value
    if (phone_number.match(phone2)) {
      return true;
    } else {
      document.getElementById(\'message_phone_single\').style.backgroundColor=\'#FFFFB0\';
      document.getElementById(\'message_phone_single\').style.borderColor=\'#666666\';
      document.getElementById(\'message_phone_single\').value = \'+2438\'
      alert(\'Invalid phone number format!\');
      return false;
    }
  }
</script>
<div id="content">
');   if flash[:notice] 
@output_buffer.safe_concat('    <div id="flash">
      <div style="margin-bottom:0px;">
        ');@output_buffer.append= ( flash[:notice] );@output_buffer.safe_concat('
');@output_buffer.safe_concat('      </div>
      <script type="text/javascript">
        setTimeout("new Effect.Fade(\'flash\');", 500)
      </script>
    </div>
');   end 
@output_buffer.safe_concat('
  <h2>');@output_buffer.append= ( link_to "Messages", messages_path);@output_buffer.safe_concat(' > Send message&nbsp;&nbsp;
    ');@output_buffer.append= ( image_tag("spinner2.gif",:align => "absmiddle",
      :border => 0,:id => "spinner2",
      :style =>"display: none;" ) );@output_buffer.safe_concat('</h2>
');   if session[:user_type] == "SA"
     @conditions = "code != 'All'"
   else 
     @conditions = "user_id = #{session[:user_id]}"
   end 
@output_buffer.safe_concat('  <div id="send_sms">
    <table>
      ');@output_buffer.append=  form_tag :controller => "messages", :action => 'send_message', :id => @message do @output_buffer.safe_concat('
        <tr>
          <td>Short code</td><td>');@output_buffer.append= ( collection_select 'message', 'dest',
              ShortCode.find(:all, :conditions => @conditions, :joins => "left join user_short_codes on user_short_codes.short_code_id=short_codes.id",	:select => "user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc"), :id, :short_code_with_smsc );@output_buffer.safe_concat('</td>
        </tr>
        <tr id="single_p">
          <td>Phone number</td><td>');@output_buffer.append= ( select(:message, :prefix, Service::Prefixes );@output_buffer.safe_concat(' ');@output_buffer.append= ( text_field :message, :phone_single, :size => 8, :value => "", :onKeyUp => "checkPhone(this);", :onKeyDown => "checkPhone(this);" );@output_buffer.safe_concat('</td>
        </tr>
        <tr id="multi_p" style="display: none;">
          <td>Phone (multiple)</td><td>');@output_buffer.append= ( text_field :message, :phone_multi, :size => 50 );@output_buffer.safe_concat('</td>
        </tr>
        <tr id="csv_p" style="display: none;">
          <td>File</td>
          <td>');@output_buffer.append= ( file_field :message, :file );@output_buffer.safe_concat('          </td>
        </tr>
        <tr id="group_p" style="display: none;">
          <td>Group</td>
          <td>');@output_buffer.append= ( collection_select :message, :group_id, Group.find(:all, :conditions => "user_id='#{session[:user_id]}'"), :id, :name, :prompt => "Select" );@output_buffer.safe_concat('
');@output_buffer.safe_concat('          </td>
        </tr>
        <tr>
          <td>Message</td><td>');@output_buffer.append= ( text_area :message, :content, :rows => 8, :cols => 40, :onKeyUp => "textCounter(this, document.getElementById('len'), 480)", :onKeyDown => "textCounter(this, document.getElementById('len'), 480)" );@output_buffer.safe_concat('</td>
        </tr>
        <tr><td><input readonly type="text" id="len" size="3" maxlength="3" value="480"/>characters left</td></tr>

        <tr>
');           if @status == 0
@output_buffer.safe_concat('            <td bgcolor = "#fbb508">SMS Gateway not available</td>
');           else 
             if @curr_status == "isolated"
@output_buffer.safe_concat('              <td bgcolor = "#fbb508">SMS Gateway ISOLATED</td>
              <td><i>Cannot send messages for the moment, contact your sys. admin.</i></td>
');             else 
               if @curr_status == "running" and @box_status != nil
@output_buffer.safe_concat('                <td>
                  <a class="submit">');@output_buffer.append= ( submit_tag "Send message", :name => "send_message", :onclick =>  "return validateSendM()" );@output_buffer.safe_concat('</a>
                </td>
');               else 
@output_buffer.safe_concat('                <td bgcolor = "#fbb508">SMS Box not available</td>
                <td><i>Cannot send messages for the moment, contact your sys. admin.</i></td>
');               end 
             end 
           end 
@output_buffer.safe_concat('        </tr>
');       end 
@output_buffer.safe_concat('    </table>
  </div>
</div>
');@output_buffer.to_s
          ensure
            @virtual_path, @output_buffer = _old_virtual_path, _old_output_buffer
          end
Backtrace: /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:309:in `module_eval'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:309:in `compile'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:217:in `compile!'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:170:in `block in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:55:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/template.rb:169:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:40:in `block (2 levels) in render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/abstract_renderer.rb:33:in `block in instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/abstract_renderer.rb:33:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:39:in `block in render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:47:in `render_with_layout'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:38:in `render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:12:in `block in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/abstract_renderer.rb:22:in `wrap_formats'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/template_renderer.rb:9:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/renderer.rb:36:in `render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_view/renderer/renderer.rb:17:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:120:in `_render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/streaming.rb:250:in `_render_template'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:114:in `render_to_body'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/renderers.rb:30:in `render_to_body'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/compatibility.rb:43:in `render_to_body'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:99:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rendering.rb:16:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:40:in `block (2 levels) in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/core_ext/benchmark.rb:5:in `block in ms'
/home/mutesa/.rvm/rubies/ruby-1.9.2-p290/lib/ruby/1.9.1/benchmark.rb:310:in `realtime'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/core_ext/benchmark.rb:5:in `ms'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:40:in `block in render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:78:in `cleanup_view_runtime'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/railties/controller_runtime.rb:24:in `cleanup_view_runtime'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:39:in `render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/implicit_render.rb:10:in `default_render'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/implicit_render.rb:5:in `send_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/base.rb:167:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rendering.rb:10:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/callbacks.rb:18:in `block in process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:443:in `_run__3280665341834252144__process_action__4153198899679389358__callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:386:in `_run_process_action_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/callbacks.rb:17:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rescue.rb:17:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:30:in `block in process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `block in instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications/instrumenter.rb:21:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/notifications.rb:53:in `instrument'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/instrumentation.rb:29:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/params_wrapper.rb:201:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/railties/controller_runtime.rb:18:in `process_action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/base.rb:121:in `process'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/abstract_controller/rendering.rb:45:in `process'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal.rb:193:in `dispatch'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_controller/metal.rb:236:in `block in action'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:65:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:65:in `dispatch'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:29:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:152:in `block in call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:96:in `block in recognize'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:75:in `optimized_each'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/code_generation.rb:95:in `recognize'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-mount-0.8.3/lib/rack/mount/route_set.rb:141:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/routing/route_set.rb:532:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/etag.rb:23:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/conditionalget.rb:25:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/head.rb:14:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/params_parser.rb:21:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/flash.rb:247:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/session/abstract/id.rb:195:in `context'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/session/abstract/id.rb:190:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/cookies.rb:331:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/query_cache.rb:64:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activerecord-3.1.3/lib/active_record/connection_adapters/abstract/connection_pool.rb:477:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:392:in `_run_call_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/callbacks.rb:81:in `run_callbacks'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/callbacks.rb:28:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/reloader.rb:68:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/sendfile.rb:101:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/remote_ip.rb:48:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/show_exceptions.rb:47:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.3/lib/rails/rack/logger.rb:13:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/methodoverride.rb:24:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/runtime.rb:17:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/activesupport-3.1.3/lib/active_support/cache/strategy/local_cache.rb:72:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/lock.rb:15:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/static.rb:53:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.3/lib/rails/engine.rb:456:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/content_length.rb:14:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/railties-3.1.3/lib/rails/rack/log_tailer.rb:14:in `call'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/rack-1.3.6/lib/rack/handler/mongrel.rb:77:in `process'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:165:in `block in process_client'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:164:in `each'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:164:in `process_client'
/home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/mongrel-1.2.0.pre2/lib/mongrel.rb:291:in `block (2 levels) in run'
Rendered messages/new_message.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 24ms

ActionView::Template::Error (/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:104: syntax error, unexpected keyword_end, expecting ')'
');       end 
             ^
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:109: syntax error, unexpected keyword_ensure, expecting ')'
/home/mutesa/rails_app/ez-gate/app/views/messages/new_message.html.erb:111: syntax error, unexpected keyword_end, expecting ')'):
    101:                 <td><i>Cannot send messages for the moment, contact your sys. admin.</i></td>
    102:               <% end %>
    103:             <% end %>
    104:           <% end %>
    105:         </tr>
    106:       <% end -%>
    107:     </table>
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.7ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (3.4ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:25:24 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.2ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.2ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (53.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 97ms (Views: 72.5ms | ActiveRecord: 4.2ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:25:24 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:25:24 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:26:49 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.2ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.2ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (56.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 99ms (Views: 75.8ms | ActiveRecord: 4.2ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:26:49 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:26:49 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:27:49 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.3ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.3ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (61.3ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 194ms (Views: 124.5ms | ActiveRecord: 35.1ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:27:49 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:27:49 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:27:50 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.3ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.2ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.2ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (28.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 123ms (Views: 72.6ms | ActiveRecord: 4.3ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:27:50 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:27:50 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages" for 127.0.0.1 at 2012-05-04 08:27:51 +0200
  Processing by MessagesController#index as HTML
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mService Load (0.3ms)[0m  [1mSELECT `services`.* FROM `services` [0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '6' and date(created_at) = curdate())[0m
Rendered messages/index.html.erb within layouts/application (17.0ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 89ms (Views: 65.9ms | ActiveRecord: 4.9ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:27:51 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:27:51 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:27:52 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.2ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.2ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (57.6ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 126ms (Views: 95.6ms | ActiveRecord: 11.5ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:27:53 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:27:53 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages" for 127.0.0.1 at 2012-05-04 08:30:23 +0200
  Processing by MessagesController#index as HTML
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mService Load (0.3ms)[0m  SELECT `services`.* FROM `services` 
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '6' and date(created_at) = curdate())
Rendered messages/index.html.erb within layouts/application (15.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 95ms (Views: 35.1ms | ActiveRecord: 4.9ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:30:24 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:30:24 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:30:25 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.3ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.3ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (71.5ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 133ms (Views: 93.3ms | ActiveRecord: 18.1ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:30:25 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:30:25 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-04 08:30:33 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dodJkNKgyQbE0XlkJPtXfLvPzBsntDAtTvpB1YVFuOQ=", "message"=>{"dest"=>"2", "prefix"=>"+24381", "phone_single"=>"99999999", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"ddd"}, "send_message"=>"Send message"}
  [1m[35mUserDetail Load (0.3ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.2ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 43ms


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:30:34 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.2ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.2ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (60.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 109ms (Views: 79.4ms | ActiveRecord: 4.7ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:30:34 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:30:34 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:31:08 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.2ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.2ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (54.9ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 99ms (Views: 74.5ms | ActiveRecord: 4.3ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:31:08 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:31:08 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:31:45 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.3ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.2ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.3ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (57.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 246ms (Views: 137.4ms | ActiveRecord: 19.4ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:31:45 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:31:45 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:31:45 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.3ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.2ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (5.4ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (57.7ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 191ms (Views: 87.8ms | ActiveRecord: 30.1ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:31:45 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:31:45 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-04 08:31:58 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dodJkNKgyQbE0XlkJPtXfLvPzBsntDAtTvpB1YVFuOQ=", "message"=>{"dest"=>"2", "prefix"=>"+24381", "phone_single"=>"4445678890", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"dddd"}, "send_message"=>"Send message"}
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.2ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 78ms


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=4445678890&sender=44800&content=dddd&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 08:31:58 +0200


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:31:58 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>"4445678890", "sender"=>"44800", "content"=>"dddd", "smsc"=>"FAKE", "status"=>"1"}
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36m (1.6ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (9.1ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('dddd', '2012-05-04 06:31:58', '4445678890', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-04 06:31:58', 1)
  [1m[36mShortCode Load (0.2ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.2ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (29.4ms)
  [1m[36m (68.2ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 111ms (Views: 6.7ms | ActiveRecord: 88.5ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=4445678890&sender=44800&content=dddd&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 08:31:58 +0200
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 125ms (Views: 56.6ms | ActiveRecord: 16.2ms)
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>"4445678890", "sender"=>"44800", "content"=>"dddd", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('dddd', '2012-05-04 06:31:59', '4445678890', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-04 06:31:59', 1)[0m


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:31:59 +0200
Served asset /main.css - 304 Not Modified (0ms)
  [1m[35m (104.4ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 126ms (Views: 5.1ms | ActiveRecord: 106.0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:31:59 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:32:04 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.3ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.3ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.3ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (118.0ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 194ms (Views: 137.9ms | ActiveRecord: 24.6ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:32:05 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:32:05 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-04 08:32:12 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dodJkNKgyQbE0XlkJPtXfLvPzBsntDAtTvpB1YVFuOQ=", "message"=>{"dest"=>"2", "prefix"=>"+24381", "phone_single"=>"4444444444444", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"dd"}, "send_message"=>"Send message"}
  [1m[35mUserDetail Load (0.2ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.2ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 43ms


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=4444444444444&sender=44800&content=dd&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 08:32:12 +0200


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:32:12 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>"4444444444444", "sender"=>"44800", "content"=>"dd", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (8.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('dd', '2012-05-04 06:32:12', '4444444444444', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-04 06:32:12', 1)
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.2ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 98ms (Views: 12.3ms | ActiveRecord: 64.4ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=4444444444444&sender=44800&content=dd&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 08:32:12 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>"4444444444444", "sender"=>"44800", "content"=>"dd", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36mGroup Load (7.6ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (101.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 165ms (Views: 120.1ms | ActiveRecord: 22.1ms)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('dd', '2012-05-04 06:32:13', '4444444444444', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-04 06:32:13', 1)[0m


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:32:13 +0200
Served asset /main.css - 304 Not Modified (0ms)
  [1m[35m (84.6ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 163ms (Views: 4.6ms | ActiveRecord: 88.5ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:32:13 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:32:41 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (6.2ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (1.4ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.2ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (115.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 194ms (Views: 138.9ms | ActiveRecord: 26.3ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:32:42 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:32:42 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:32:42 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.3ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.3ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (2.6ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (58.2ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 196ms (Views: 147.5ms | ActiveRecord: 16.1ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:32:42 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:32:42 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 08:33:12 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (1.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (2.6ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.3ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (62.1ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 251ms (Views: 124.6ms | ActiveRecord: 31.3ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 08:33:12 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 08:33:12 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/" for 127.0.0.1 at 2012-05-04 11:21:00 +0200
  Processing by HomeController#index as HTML
Rendered home/index.html.erb within layouts/home (30.0ms)
Completed 200 OK in 150ms (Views: 150.0ms | ActiveRecord: 0.0ms)


Started GET "/login/login" for 127.0.0.1 at 2012-05-04 11:21:04 +0200
  Processing by LoginController#login as HTML
Rendered login/login.html.erb within layouts/application (0.0ms)
Completed 200 OK in 220ms (Views: 90.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 11:21:04 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 11:21:04 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/login/ezgate.ico" for 127.0.0.1 at 2012-05-04 11:21:04 +0200
  Processing by LoginController#show as 
  Parameters: {"id"=>"ezgate"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` IS NULL LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 20ms


Started GET "/login/ezgate.ico" for 127.0.0.1 at 2012-05-04 11:21:04 +0200
  Processing by LoginController#show as 
  Parameters: {"id"=>"ezgate"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` IS NULL LIMIT 1
Redirected to http://localhost:3000/
Completed 302 Found in 10ms


Started GET "/" for 127.0.0.1 at 2012-05-04 11:21:04 +0200
  Processing by HomeController#index as HTML
Rendered home/index.html.erb within layouts/home (0.0ms)
Completed 200 OK in 10ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started POST "/login/login" for 127.0.0.1 at 2012-05-04 11:21:09 +0200
  Processing by LoginController#login as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"d+mcaQiR/4v8pcqc62fW0+MO9j23E6P7Fal1O29GDmg=", "username"=>"sa", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (user_short_codes.user_id = 1)[0m
Redirected to http://localhost:3000/messages
Completed 302 Found in 160ms


Started GET "/messages" for 127.0.0.1 at 2012-05-04 11:21:10 +0200
  Processing by MessagesController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` [0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '6' and date(created_at) = curdate())[0m
Rendered messages/index.html.erb within layouts/application (50.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 100ms (Views: 70.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 11:21:10 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 11:21:10 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 11:21:11 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.0ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (80.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 140ms (Views: 110.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 11:21:12 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 11:21:12 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788460106&destination=44800&keyword=game&content=game" for 127.0.0.1 at 2012-05-04 11:29:42 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788460106", "destination"=>"44800", "keyword"=>"game", "content"=>"game"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'game' or aliases like '%game%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('game', '2012-05-04 09:29:42', '44800', 0, '+250788460106', 6, 'pending', 'Vodacom DRC', '', '2012-05-04 09:29:42', 1)[0m
  [1m[35m (70.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '6') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-04 09:29:44' WHERE `inbound_messages`.`id` = 146
  [1m[36m (90.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (20.0ms)
Completed 200 OK in 2850ms (Views: 110.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=146&user_id=1&service=game&dest=+250788460106&sender=44800&content=Error+404+%3A+File+not+found&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 11:29:44 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"146", "user_id"=>"1", "service"=>"game", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Error 404 : File not found", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Error 404 : File not found', '2012-05-04 09:29:45', ' 250788460106', 146, '44800', 'game', 'delivered', 'delivered', '2012-05-04 09:29:45', 1)[0m
  [1m[35m (60.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 130ms (Views: 10.0ms | ActiveRecord: 60.0ms)


Started GET "/service_manager/record_push?inbound_id=146&user_id=1&service=game&dest=+250788460106&sender=44800&content=Error+404+%3A+File+not+found&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 11:29:45 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"146", "user_id"=>"1", "service"=>"game", "dest"=>" 250788460106", "sender"=>"44800", "content"=>"Error 404 : File not found", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Error 404 : File not found', '2012-05-04 09:29:45', ' 250788460106', 146, '44800', 'game', 'submitted', 'submitted', '2012-05-04 09:29:45', 1)
  [1m[36m (40.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 10.0ms | ActiveRecord: 40.0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 11:29:57 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (10.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.0ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (60.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 110ms (Views: 70.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 11:29:57 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 11:29:57 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-04 11:30:03 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"d+mcaQiR/4v8pcqc62fW0+MO9j23E6P7Fal1O29GDmg=", "message"=>{"dest"=>"2", "prefix"=>"+24381", "phone_single"=>"99999999", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"dd"}, "send_message"=>"Send message"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 60ms


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=99999999&sender=44800&content=dd&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 11:30:03 +0200


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 11:30:03 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>"99999999", "sender"=>"44800", "content"=>"dd", "smsc"=>"FAKE", "status"=>"1"}
  Processing by MessagesController#new_message as HTML
  [1m[35m (20.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('dd', '2012-05-04 09:30:03', '99999999', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-04 09:30:03', 1)[0m
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[35m (40.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 90ms (Views: 0.0ms | ActiveRecord: 70.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=99999999&sender=44800&content=dd&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 11:30:03 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>"99999999", "sender"=>"44800", "content"=>"dd", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[36m (10.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('dd', '2012-05-04 09:30:03', '99999999', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-04 09:30:03', 1)
  [1m[35mGroup Load (0.0ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (150.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 220ms (Views: 180.0ms | ActiveRecord: 0.0ms)
  [1m[36m (60.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 110ms (Views: 0.0ms | ActiveRecord: 100.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 11:30:04 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 11:30:04 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 11:30:09 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.0ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (60.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 110ms (Views: 90.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 11:30:09 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 11:30:09 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 11:41:25 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.0ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (30.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 100ms (Views: 80.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 11:41:25 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 11:41:25 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 11:41:26 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (10.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.0ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (30.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 120ms (Views: 70.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 11:41:26 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 11:41:26 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 11:42:02 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (10.0ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (30.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 100ms (Views: 40.0ms | ActiveRecord: 20.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 11:42:02 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 11:42:02 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-04 11:42:13 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"d+mcaQiR/4v8pcqc62fW0+MO9j23E6P7Fal1O29GDmg=", "message"=>{"dest"=>"2", "prefix"=>"+24381", "phone_single"=>"77777778", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"dd"}, "send_message"=>"Send message"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 50ms


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 11:42:14 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.0ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (50.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 100ms (Views: 80.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 11:42:14 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 11:42:14 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 11:42:55 +0200
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.0ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (100.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 180ms (Views: 90.0ms | ActiveRecord: 60.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 11:42:55 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 11:42:55 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-04 11:43:01 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"d+mcaQiR/4v8pcqc62fW0+MO9j23E6P7Fal1O29GDmg=", "message"=>{"dest"=>"2", "prefix"=>"+24381", "phone_single"=>"77777777", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"hhhs"}, "send_message"=>"Send message"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 40ms


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 11:43:01 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.0ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (50.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 100ms (Views: 80.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 11:43:01 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 11:43:01 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 11:44:20 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.0ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (30.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 100ms (Views: 70.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 11:44:20 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 11:44:20 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-04 11:44:35 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"d+mcaQiR/4v8pcqc62fW0+MO9j23E6P7Fal1O29GDmg=", "message"=>{"dest"=>"2", "prefix"=>"+24381", "phone_single"=>"8888888", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"dd"}, "send_message"=>"Send message"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 70ms


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243818888888&sender=44800&content=dd&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 11:44:35 +0200


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 11:44:35 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243818888888", "sender"=>"44800", "content"=>"dd", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('dd', '2012-05-04 09:44:35', ' 243818888888', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-04 09:44:35', 1)[0m
  Processing by MessagesController#new_message as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[36mGroup Load (0.0ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (20.0ms)
  [1m[35m (90.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 110ms (Views: 0.0ms | ActiveRecord: 90.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243818888888&sender=44800&content=dd&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 11:44:35 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243818888888", "sender"=>"44800", "content"=>"dd", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 140ms (Views: 120.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('dd', '2012-05-04 09:44:35', ' 243818888888', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-04 09:44:35', 1)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 11:44:35 +0200
Served asset /main.css - 304 Not Modified (0ms)
  [1m[36m (110.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 170ms (Views: 0.0ms | ActiveRecord: 110.0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 11:44:35 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-04 14:12:56 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"d+mcaQiR/4v8pcqc62fW0+MO9j23E6P7Fal1O29GDmg=", "message"=>{"dest"=>"2", "prefix"=>"+24382", "phone_single"=>"9999999", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"ddd"}, "send_message"=>"Send message"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 70ms


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243829999999&sender=44800&content=ddd&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 14:12:56 +0200


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 14:12:56 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243829999999", "sender"=>"44800", "content"=>"ddd", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('ddd', '2012-05-04 12:12:56', ' 243829999999', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-04 12:12:56', 1)[0m
  Processing by MessagesController#new_message as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[35mGroup Load (0.0ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (30.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 130ms (Views: 80.0ms | ActiveRecord: 0.0ms)
  [1m[35m (140.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 160ms (Views: 0.0ms | ActiveRecord: 140.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243829999999&sender=44800&content=ddd&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 14:12:56 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243829999999", "sender"=>"44800", "content"=>"ddd", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (10.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('ddd', '2012-05-04 12:12:56', ' 243829999999', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-04 12:12:56', 1)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 14:12:56 +0200
Served asset /main.css - 304 Not Modified (0ms)
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 90ms (Views: 10.0ms | ActiveRecord: 80.0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 14:12:56 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-04 14:13:27 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"d+mcaQiR/4v8pcqc62fW0+MO9j23E6P7Fal1O29GDmg=", "message"=>{"dest"=>"2", "prefix"=>"+24381", "phone_single"=>"1111111", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"ddd"}, "send_message"=>"Send message"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 70ms


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243811111111&sender=44800&content=ddd&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 14:13:27 +0200


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 14:13:27 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243811111111", "sender"=>"44800", "content"=>"ddd", "smsc"=>"FAKE", "status"=>"1"}
  Processing by MessagesController#new_message as HTML
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('ddd', '2012-05-04 12:13:27', ' 243811111111', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-04 12:13:27', 1)[0m
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')
  [1m[35m (50.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 150ms (Views: 20.0ms | ActiveRecord: 70.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243811111111&sender=44800&content=ddd&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 14:13:27 +0200
  [1m[36mGroup Load (0.0ms)[0m  [1mSELECT `groups`.* FROM `groups` WHERE (user_id='1')[0m
Rendered messages/new_message.html.erb within layouts/application (50.0ms)
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243811111111", "sender"=>"44800", "content"=>"ddd", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36m (20.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('ddd', '2012-05-04 12:13:27', ' 243811111111', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-04 12:13:27', 1)
Completed 200 OK in 180ms (Views: 120.0ms | ActiveRecord: 10.0ms)
  [1m[36m (40.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 0.0ms | ActiveRecord: 80.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 14:13:27 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 14:13:27 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/messages/send_message" for 127.0.0.1 at 2012-05-04 14:14:06 +0200
  Processing by MessagesController#send_message as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"d+mcaQiR/4v8pcqc62fW0+MO9j23E6P7Fal1O29GDmg=", "message"=>{"dest"=>"2", "prefix"=>"+24382", "phone_single"=>"1111111", "phone_multi"=>"", "file"=>"", "group_id"=>"", "content"=>"xx"}, "send_message"=>"Send message"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Redirected to http://localhost:3000/messages/new_message
Completed 302 Found in 70ms


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243821111111&sender=44800&content=xx&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-04 14:14:06 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243821111111", "sender"=>"44800", "content"=>"xx", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('xx', '2012-05-04 12:14:07', ' 243821111111', 0, '44800', 'push', 'delivered', 'delivered', '2012-05-04 12:14:07', 1)[0m


Started GET "/messages/new_message" for 127.0.0.1 at 2012-05-04 14:14:07 +0200
  Processing by MessagesController#new_message as HTML
  [1m[35m (80.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 110ms (Views: 10.0ms | ActiveRecord: 80.0ms)


Started GET "/service_manager/record_push?inbound_id=0&user_id=1&service=push&dest=+243821111111&sender=44800&content=xx&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-04 14:14:07 +0200
  [1m[35mUserDetail Load (10.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"0", "user_id"=>"1", "service"=>"push", "dest"=>" 243821111111", "sender"=>"44800", "content"=>"xx", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id, short_codes.smsc FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (code != 'All')[0m
  [1m[36m (10.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (10.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('xx', '2012-05-04 12:14:07', ' 243821111111', 0, '44800', 'push', 'submitted', 'submitted', '2012-05-04 12:14:07', 1)
  [1m[35mGroup Load (0.0ms)[0m  SELECT `groups`.* FROM `groups` WHERE (user_id='1')
Rendered messages/new_message.html.erb within layouts/application (40.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
Completed 200 OK in 170ms (Views: 90.0ms | ActiveRecord: 10.0ms)
  [1m[36m (100.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 140ms (Views: 10.0ms | ActiveRecord: 120.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-04 14:14:07 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-04 14:14:07 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m7&content=m7" for 127.0.0.1 at 2012-05-13 13:13:05 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m7", "content"=>"m7"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (30.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 7', '2012-05-13 11:13:05', '44800', 0, '+250788462149', 3, 'pending', 'Vodacom DRC', '', '2012-05-13 11:13:05', 2)[0m
  [1m[35m (70.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1
id=7&origin=+250788462149&destination=44800&message=m 7&service=3
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` WHERE (keyword like '%%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `ringtone_access_keys` (`created_at`, `expires_at`, `key`, `req_status`, `ringtone_id`, `updated_at`, `used_at`) VALUES ('2012-05-13 11:13:06', '2012-05-13 11:19:06', '3873', 'unused', 1, '2012-05-13 11:13:06', NULL)[0m
  [1m[35m (30.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'success', `updated_at` = '2012-05-13 11:13:06' WHERE `inbound_messages`.`id` = 147
  [1m[36m (30.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (10.0ms)
Compiled main.css  (30ms)  (pid 15807)
Compiled jquery.js  (19ms)  (pid 15807)
Completed 200 OK in 880ms (Views: 220.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=147&user_id=2&service=M&dest=+250788462149&sender=44801&content=Allez+sur+http%3A%2F%2Fwww.vodafun.net%2Fhome%2Fringtone%3Fid%3D1+et+telecharger+votre+sonnerie+a+l%27aide+du+code+secret+suivant+%3A%0A3873&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-13 13:13:06 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"147", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l'aide du code secret suivant :\n3873", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l\'aide du code secret suivant :\n3873', '2012-05-13 11:13:06', ' 250788462149', 147, '44801', 'M', 'delivered', 'delivered', '2012-05-13 11:13:06', 2)[0m
  [1m[35m (60.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 90ms (Views: 0.0ms | ActiveRecord: 80.0ms)


Started GET "/service_manager/record_push?inbound_id=147&user_id=2&service=M&dest=+250788462149&sender=44801&content=Allez+sur+http%3A%2F%2Fwww.vodafun.net%2Fhome%2Fringtone%3Fid%3D1+et+telecharger+votre+sonnerie+a+l%27aide+du+code+secret+suivant+%3A%0A3873&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-13 13:13:06 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"147", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l'aide du code secret suivant :\n3873", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l\'aide du code secret suivant :\n3873', '2012-05-13 11:13:06', ' 250788462149', 147, '44801', 'M', 'submitted', 'submitted', '2012-05-13 11:13:06', 2)
  [1m[36m (40.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 0.0ms | ActiveRecord: 40.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m7&content=m7" for 127.0.0.1 at 2012-05-13 13:14:21 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m7", "content"=>"m7"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 7', '2012-05-13 11:14:21', '44800', 0, '+250788462149', 3, 'pending', 'Vodacom DRC', '', '2012-05-13 11:14:21', 2)
  [1m[36m (120.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1[0m
id=7&origin=+250788462149&destination=44800&message=m 7&service=3
  [1m[35mRingtone Load (0.0ms)[0m  SELECT `ringtones`.* FROM `ringtones` WHERE (keyword like '%%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `ringtone_access_keys` (`created_at`, `expires_at`, `key`, `req_status`, `ringtone_id`, `updated_at`, `used_at`) VALUES ('2012-05-13 11:14:21', '2012-05-13 11:20:21', '9554', 'unused', 1, '2012-05-13 11:14:21', NULL)
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mUPDATE `inbound_messages` SET `service_status` = 'success', `updated_at` = '2012-05-13 11:14:21' WHERE `inbound_messages`.`id` = 148[0m
  [1m[35m (50.0ms)[0m  COMMIT
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 380ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=148&user_id=2&service=M&dest=+250788462149&sender=44801&content=Allez+sur+http%3A%2F%2Fwww.vodafun.net%2Fhome%2Fringtone%3Fid%3D1+et+telecharger+votre+sonnerie+a+l%27aide+du+code+secret+suivant+%3A%0A9554&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-13 13:14:21 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"148", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l'aide du code secret suivant :\n9554", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l\'aide du code secret suivant :\n9554', '2012-05-13 11:14:21', ' 250788462149', 148, '44801', 'M', 'submitted', 'submitted', '2012-05-13 11:14:21', 2)
  [1m[36m (60.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 0.0ms | ActiveRecord: 60.0ms)


Started GET "/service_manager/record_push?inbound_id=148&user_id=2&service=M&dest=+250788462149&sender=44801&content=Allez+sur+http%3A%2F%2Fwww.vodafun.net%2Fhome%2Fringtone%3Fid%3D1+et+telecharger+votre+sonnerie+a+l%27aide+du+code+secret+suivant+%3A%0A9554&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-13 13:14:21 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"148", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l'aide du code secret suivant :\n9554", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l\'aide du code secret suivant :\n9554', '2012-05-13 11:14:21', ' 250788462149', 148, '44801', 'M', 'delivered', 'delivered', '2012-05-13 11:14:21', 2)[0m
  [1m[35m (40.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 60ms (Views: 0.0ms | ActiveRecord: 40.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m7&content=m7" for 127.0.0.1 at 2012-05-13 13:15:20 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m7", "content"=>"m7"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 7', '2012-05-13 11:15:20', '44800', 0, '+250788462149', 3, 'pending', 'Vodacom DRC', '', '2012-05-13 11:15:20', 2)[0m
  [1m[35m (150.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1
id=7&origin=+250788462149&destination=44800&message=m 7&service=3
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` WHERE (keyword like '%%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `ringtone_access_keys` (`created_at`, `expires_at`, `key`, `req_status`, `ringtone_id`, `updated_at`, `used_at`) VALUES ('2012-05-13 11:15:20', '2012-05-13 11:21:20', '0837', 'unused', 1, '2012-05-13 11:15:20', NULL)[0m
  [1m[35m (50.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'success', `updated_at` = '2012-05-13 11:15:20' WHERE `inbound_messages`.`id` = 149
  [1m[36m (30.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 390ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=149&user_id=2&service=M&dest=+250788462149&sender=44801&content=Allez+sur+http%3A%2F%2Fwww.vodafun.net%2Fhome%2Fringtone%3Fid%3D1+et+telecharger+votre+sonnerie+a+l%27aide+du+code+secret+suivant+%3A%0A0837&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-13 13:15:20 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"149", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l'aide du code secret suivant :\n0837", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l\'aide du code secret suivant :\n0837', '2012-05-13 11:15:20', ' 250788462149', 149, '44801', 'M', 'submitted', 'submitted', '2012-05-13 11:15:20', 2)[0m
  [1m[35m (60.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 10.0ms | ActiveRecord: 60.0ms)


Started GET "/service_manager/record_push?inbound_id=149&user_id=2&service=M&dest=+250788462149&sender=44801&content=Allez+sur+http%3A%2F%2Fwww.vodafun.net%2Fhome%2Fringtone%3Fid%3D1+et+telecharger+votre+sonnerie+a+l%27aide+du+code+secret+suivant+%3A%0A0837&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-13 13:15:20 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"149", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l'aide du code secret suivant :\n0837", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Allez sur http://www.vodafun.net/home/ringtone?id=1 et telecharger votre sonnerie a l\'aide du code secret suivant :\n0837', '2012-05-13 11:15:20', ' 250788462149', 149, '44801', 'M', 'delivered', 'delivered', '2012-05-13 11:15:20', 2)
  [1m[36m (40.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 50ms (Views: 0.0ms | ActiveRecord: 40.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462143&destination=44800&keyword=kat&content=kat" for 127.0.0.1 at 2012-05-13 13:24:11 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462143", "destination"=>"44800", "keyword"=>"kat", "content"=>"kat"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'kat' or aliases like '%kat%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('kat', '2012-05-13 11:24:12', '44800', 0, '+250788462143', 5, 'pending', 'Vodacom DRC', '', '2012-05-13 11:24:12', 1)[0m
  [1m[35m (120.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '4') LIMIT 1
origin=+250788462143&destination=44800&message=kat&service=5
  [1m[36mInboundMessage Load (0.0ms)[0m  [1mSELECT `inbound_messages`.* FROM `inbound_messages` WHERE (replace(sender,'+','') = '250788462143' and service_id = 5 and service_status='success') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mUPDATE `inbound_messages` SET `service_status` = 'success', `updated_at` = '2012-05-13 11:24:12' WHERE `inbound_messages`.`id` = 150[0m
  [1m[35m (30.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = 5 and service_status = 'success')[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (10.0ms)
Completed 200 OK in 530ms (Views: 90.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=150&user_id=1&service=KAT&dest=+250788462143&sender=44800&content=Felicitation%2CPRO-YEN+garantit+votre+insertion+professionnelle+dans+le+circuit+traditionnel+et+autre.%0ANumero+d%27identification%3A+RF_00000007%2F13052012&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-13 13:24:12 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"150", "user_id"=>"1", "service"=>"KAT", "dest"=>" 250788462143", "sender"=>"44800", "content"=>"Felicitation,PRO-YEN garantit votre insertion professionnelle dans le circuit traditionnel et autre.\nNumero d'identification: RF_00000007/13052012", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Felicitation,PRO-YEN garantit votre insertion professionnelle dans le circuit traditionnel et autre.\nNumero d\'identification: RF_00000007/13052012', '2012-05-13 11:24:12', ' 250788462143', 150, '44800', 'KAT', 'delivered', 'delivered', '2012-05-13 11:24:12', 1)[0m
  [1m[35m (70.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 120ms (Views: 10.0ms | ActiveRecord: 70.0ms)


Started GET "/service_manager/record_push?inbound_id=150&user_id=1&service=KAT&dest=+250788462143&sender=44800&content=Felicitation%2CPRO-YEN+garantit+votre+insertion+professionnelle+dans+le+circuit+traditionnel+et+autre.%0ANumero+d%27identification%3A+RF_00000007%2F13052012&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-13 13:24:12 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"150", "user_id"=>"1", "service"=>"KAT", "dest"=>" 250788462143", "sender"=>"44800", "content"=>"Felicitation,PRO-YEN garantit votre insertion professionnelle dans le circuit traditionnel et autre.\nNumero d'identification: RF_00000007/13052012", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Felicitation,PRO-YEN garantit votre insertion professionnelle dans le circuit traditionnel et autre.\nNumero d\'identification: RF_00000007/13052012', '2012-05-13 11:24:12', ' 250788462143', 150, '44800', 'KAT', 'submitted', 'submitted', '2012-05-13 11:24:12', 1)
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 10.0ms | ActiveRecord: 50.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462143&destination=44800&keyword=kat&content=kat" for 127.0.0.1 at 2012-05-13 13:24:21 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462143", "destination"=>"44800", "keyword"=>"kat", "content"=>"kat"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'kat' or aliases like '%kat%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('kat', '2012-05-13 11:24:21', '44800', 0, '+250788462143', 5, 'pending', 'Vodacom DRC', '', '2012-05-13 11:24:21', 1)
  [1m[36m (110.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '4') LIMIT 1[0m
origin=+250788462143&destination=44800&message=kat&service=5
  [1m[35mInboundMessage Load (0.0ms)[0m  SELECT `inbound_messages`.* FROM `inbound_messages` WHERE (replace(sender,'+','') = '250788462143' and service_id = 5 and service_status='success') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-13 11:24:21' WHERE `inbound_messages`.`id` = 151
  [1m[36m (30.0ms)[0m  [1mCOMMIT[0m
  [1m[35mOutboundMessage Load (0.0ms)[0m  SELECT `outbound_messages`.* FROM `outbound_messages` WHERE `outbound_messages`.`inbound_id` = 150 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 260ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=151&user_id=1&service=KAT&dest=+250788462143&sender=44800&content=Votre+insertion+profiessionnelle+dans+le+cuircuit+traditionnel+et+autre+a+deja+ete+effectuee.%0ANumero+d%27identification%3A++RF_00000007%2F1305201&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-13 13:24:21 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"151", "user_id"=>"1", "service"=>"KAT", "dest"=>" 250788462143", "sender"=>"44800", "content"=>"Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d'identification:  RF_00000007/1305201", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d\'identification: RF_00000007/1305201', '2012-05-13 11:24:21', ' 250788462143', 151, '44800', 'KAT', 'delivered', 'delivered', '2012-05-13 11:24:21', 1)
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 90ms (Views: 0.0ms | ActiveRecord: 50.0ms)


Started GET "/service_manager/record_push?inbound_id=151&user_id=1&service=KAT&dest=+250788462143&sender=44800&content=Votre+insertion+profiessionnelle+dans+le+cuircuit+traditionnel+et+autre+a+deja+ete+effectuee.%0ANumero+d%27identification%3A++RF_00000007%2F1305201&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-13 13:24:21 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"151", "user_id"=>"1", "service"=>"KAT", "dest"=>" 250788462143", "sender"=>"44800", "content"=>"Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d'identification:  RF_00000007/1305201", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d\'identification: RF_00000007/1305201', '2012-05-13 11:24:21', ' 250788462143', 151, '44800', 'KAT', 'submitted', 'submitted', '2012-05-13 11:24:21', 1)[0m
  [1m[35m (30.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 50ms (Views: 0.0ms | ActiveRecord: 30.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462143&destination=44800&keyword=kat&content=kat" for 127.0.0.1 at 2012-05-13 13:24:56 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462143", "destination"=>"44800", "keyword"=>"kat", "content"=>"kat"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'kat' or aliases like '%kat%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('kat', '2012-05-13 11:24:56', '44800', 0, '+250788462143', 5, 'pending', 'Vodacom DRC', '', '2012-05-13 11:24:56', 1)[0m
  [1m[35m (120.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '4') LIMIT 1
origin=+250788462143&destination=44800&message=kat&service=5
  [1m[36mInboundMessage Load (10.0ms)[0m  [1mSELECT `inbound_messages`.* FROM `inbound_messages` WHERE (replace(sender,'+','') = '250788462143' and service_id = 5 and service_status='success') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mUPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-13 11:24:56' WHERE `inbound_messages`.`id` = 152[0m
  [1m[35m (40.0ms)[0m  COMMIT
  [1m[36mOutboundMessage Load (0.0ms)[0m  [1mSELECT `outbound_messages`.* FROM `outbound_messages` WHERE `outbound_messages`.`inbound_id` = 150 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 2 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 280ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=152&user_id=1&service=KAT&dest=+250788462143&sender=44800&content=Votre+insertion+profiessionnelle+dans+le+cuircuit+traditionnel+et+autre+a+deja+ete+effectuee.%0ANumero+d%27identification%3A++RF_00000007%2F1305201&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-13 13:24:56 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"152", "user_id"=>"1", "service"=>"KAT", "dest"=>" 250788462143", "sender"=>"44800", "content"=>"Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d'identification:  RF_00000007/1305201", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d\'identification: RF_00000007/1305201', '2012-05-13 11:24:56', ' 250788462143', 152, '44800', 'KAT', 'delivered', 'delivered', '2012-05-13 11:24:56', 1)[0m
  [1m[35m (70.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 90ms (Views: 10.0ms | ActiveRecord: 70.0ms)


Started GET "/service_manager/record_push?inbound_id=152&user_id=1&service=KAT&dest=+250788462143&sender=44800&content=Votre+insertion+profiessionnelle+dans+le+cuircuit+traditionnel+et+autre+a+deja+ete+effectuee.%0ANumero+d%27identification%3A++RF_00000007%2F1305201&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-13 13:24:56 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"152", "user_id"=>"1", "service"=>"KAT", "dest"=>" 250788462143", "sender"=>"44800", "content"=>"Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d'identification:  RF_00000007/1305201", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Votre insertion profiessionnelle dans le cuircuit traditionnel et autre a deja ete effectuee.\nNumero d\'identification: RF_00000007/1305201', '2012-05-13 11:24:56', ' 250788462143', 152, '44800', 'KAT', 'submitted', 'submitted', '2012-05-13 11:24:56', 1)
  [1m[36m (30.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 40ms (Views: 0.0ms | ActiveRecord: 30.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m7&content=m7" for 127.0.0.1 at 2012-05-13 13:27:43 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m7", "content"=>"m7"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 7', '2012-05-13 11:27:43', '44800', 0, '+250788462149', 3, 'pending', 'Vodacom DRC', '', '2012-05-13 11:27:43', 2)
  [1m[36m (130.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1[0m
id=7&origin=+250788462149&destination=44800&message=m 7&service=3
Completed 500 Internal Server Error in 200ms

ArgumentError (wrong number of arguments (0 for 1..2)):
  app/controllers/service_manager_controller.rb:338:in `gsub'
  app/controllers/service_manager_controller.rb:338:in `get_ringtone'
  app/controllers/service_manager_controller.rb:287:in `web_service_request'
  app/controllers/service_manager_controller.rb:98:in `block in request_handler'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (0.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m7&content=m7" for 127.0.0.1 at 2012-05-13 13:28:33 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m7", "content"=>"m7"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 7', '2012-05-13 11:28:33', '44800', 0, '+250788462149', 3, 'pending', 'Vodacom DRC', '', '2012-05-13 11:28:33', 2)[0m
  [1m[35m (80.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1
id=7&origin=+250788462149&destination=44800&message=m 7&service=3
Completed 500 Internal Server Error in 340ms

ArgumentError (wrong number of arguments (0 for 1..2)):
  app/controllers/service_manager_controller.rb:338:in `gsub'
  app/controllers/service_manager_controller.rb:338:in `get_ringtone'
  app/controllers/service_manager_controller.rb:287:in `web_service_request'
  app/controllers/service_manager_controller.rb:98:in `block in request_handler'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (30.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m7&content=m7" for 127.0.0.1 at 2012-05-13 13:29:59 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m7", "content"=>"m7"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 7', '2012-05-13 11:29:59', '44800', 0, '+250788462149', 3, 'pending', 'Vodacom DRC', '', '2012-05-13 11:29:59', 2)[0m
  [1m[35m (110.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1
id=7&origin=+250788462149&destination=44800&message=m 7&service=3
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-13 11:30:00' WHERE `inbound_messages`.`id` = 155
  [1m[36m (30.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 270ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=155&user_id=2&service=M&dest=+250788462149&sender=44801&content=Code+sonnerie+invalid&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-13 13:30:00 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"155", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Code sonnerie invalid", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Code sonnerie invalid', '2012-05-13 11:30:00', ' 250788462149', 155, '44801', 'M', 'delivered', 'delivered', '2012-05-13 11:30:00', 2)[0m
  [1m[35m (50.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 0.0ms | ActiveRecord: 50.0ms)


Started GET "/service_manager/record_push?inbound_id=155&user_id=2&service=M&dest=+250788462149&sender=44801&content=Code+sonnerie+invalid&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-13 13:30:00 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"155", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Code sonnerie invalid", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Code sonnerie invalid', '2012-05-13 11:30:00', ' 250788462149', 155, '44801', 'M', 'submitted', 'submitted', '2012-05-13 11:30:00', 2)
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 90ms (Views: 0.0ms | ActiveRecord: 50.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m7&content=m7" for 127.0.0.1 at 2012-05-13 13:30:41 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m7", "content"=>"m7"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 7', '2012-05-13 11:30:41', '44800', 0, '+250788462149', 3, 'pending', 'Vodacom DRC', '', '2012-05-13 11:30:41', 2)
  [1m[36m (110.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1[0m
id=7&origin=+250788462149&destination=44800&message=m 7&service=3
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mUPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-13 11:30:41' WHERE `inbound_messages`.`id` = 156[0m
  [1m[35m (30.0ms)[0m  COMMIT
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 250ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=156&user_id=2&service=M&dest=+250788462149&sender=44801&content=Code+sonnerie+invalid&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-13 13:30:41 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"156", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Code sonnerie invalid", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Code sonnerie invalid', '2012-05-13 11:30:41', ' 250788462149', 156, '44801', 'M', 'delivered', 'delivered', '2012-05-13 11:30:41', 2)
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 10.0ms | ActiveRecord: 50.0ms)


Started GET "/service_manager/record_push?inbound_id=156&user_id=2&service=M&dest=+250788462149&sender=44801&content=Code+sonnerie+invalid&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-13 13:30:41 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"156", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Code sonnerie invalid", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Code sonnerie invalid', '2012-05-13 11:30:42', ' 250788462149', 156, '44801', 'M', 'submitted', 'submitted', '2012-05-13 11:30:42', 2)[0m
  [1m[35m (40.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 90ms (Views: 0.0ms | ActiveRecord: 40.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m7&content=m7" for 127.0.0.1 at 2012-05-13 13:31:10 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m7", "content"=>"m7"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 7', '2012-05-13 11:31:10', '44800', 0, '+250788462149', 3, 'pending', 'Vodacom DRC', '', '2012-05-13 11:31:10', 2)[0m
  [1m[35m (120.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1
id=7&origin=+250788462149&destination=44800&message=m 7&service=3
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-13 11:31:11' WHERE `inbound_messages`.`id` = 157
  [1m[36m (30.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 260ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=157&user_id=2&service=M&dest=+250788462149&sender=44801&content=Code+sonnerie+invalid&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-13 13:31:11 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"157", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Code sonnerie invalid", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Code sonnerie invalid', '2012-05-13 11:31:11', ' 250788462149', 157, '44801', 'M', 'delivered', 'delivered', '2012-05-13 11:31:11', 2)[0m
  [1m[35m (60.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 10.0ms | ActiveRecord: 70.0ms)


Started GET "/service_manager/record_push?inbound_id=157&user_id=2&service=M&dest=+250788462149&sender=44801&content=Code+sonnerie+invalid&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-13 13:31:11 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"157", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Code sonnerie invalid", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Code sonnerie invalid', '2012-05-13 11:31:11', ' 250788462149', 157, '44801', 'M', 'submitted', 'submitted', '2012-05-13 11:31:11', 2)
  [1m[36m (40.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 50ms (Views: 0.0ms | ActiveRecord: 50.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m7&content=m7" for 127.0.0.1 at 2012-05-13 13:31:46 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m7", "content"=>"m7"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 7', '2012-05-13 11:31:46', '44800', 0, '+250788462149', 3, 'pending', 'Vodacom DRC', '', '2012-05-13 11:31:46', 2)
  [1m[36m (110.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1[0m
id=7&origin=+250788462149&destination=44800&message=m 7&service=3
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mUPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-13 11:31:46' WHERE `inbound_messages`.`id` = 158[0m
  [1m[35m (40.0ms)[0m  COMMIT
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 260ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=158&user_id=2&service=M&dest=+250788462149&sender=44801&content=Code+sonnerie+invalid&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-13 13:31:46 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"158", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Code sonnerie invalid", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Code sonnerie invalid', '2012-05-13 11:31:46', ' 250788462149', 158, '44801', 'M', 'delivered', 'delivered', '2012-05-13 11:31:46', 2)
  [1m[36m (90.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 100ms (Views: 0.0ms | ActiveRecord: 100.0ms)


Started GET "/service_manager/record_push?inbound_id=158&user_id=2&service=M&dest=+250788462149&sender=44801&content=Code+sonnerie+invalid&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-13 13:31:46 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"158", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Code sonnerie invalid", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Code sonnerie invalid', '2012-05-13 11:31:46', ' 250788462149', 158, '44801', 'M', 'submitted', 'submitted', '2012-05-13 11:31:46', 2)[0m
  [1m[35m (40.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 10.0ms | ActiveRecord: 40.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m7&content=m7" for 127.0.0.1 at 2012-05-13 13:31:59 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m7", "content"=>"m7"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 7', '2012-05-13 11:31:59', '44800', 0, '+250788462149', 3, 'pending', 'Vodacom DRC', '', '2012-05-13 11:31:59', 2)[0m
  [1m[35m (120.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1
id=7&origin=+250788462149&destination=44800&message=m 7&service=3
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-13 11:31:59' WHERE `inbound_messages`.`id` = 159
  [1m[36m (30.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 260ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=159&user_id=2&service=M&dest=+250788462149&sender=44801&content=Code+sonnerie+invalid&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-13 13:31:59 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"159", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Code sonnerie invalid", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Code sonnerie invalid', '2012-05-13 11:31:59', ' 250788462149', 159, '44801', 'M', 'delivered', 'delivered', '2012-05-13 11:31:59', 2)[0m
  [1m[35m (70.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 0.0ms | ActiveRecord: 70.0ms)


Started GET "/service_manager/record_push?inbound_id=159&user_id=2&service=M&dest=+250788462149&sender=44801&content=Code+sonnerie+invalid&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-13 13:31:59 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"159", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Code sonnerie invalid", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Code sonnerie invalid', '2012-05-13 11:31:59', ' 250788462149', 159, '44801', 'M', 'submitted', 'submitted', '2012-05-13 11:31:59', 2)
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 70ms (Views: 0.0ms | ActiveRecord: 50.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m7&content=m7" for 127.0.0.1 at 2012-05-13 13:32:24 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m7", "content"=>"m7"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 7', '2012-05-13 11:32:24', '44800', 0, '+250788462149', 3, 'pending', 'Vodacom DRC', '', '2012-05-13 11:32:24', 2)
  [1m[36m (130.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1[0m
id=7&origin=+250788462149&destination=44800&message=m 7&service=3
  [1m[35mRingtone Load (0.0ms)[0m  SELECT `ringtones`.* FROM `ringtones` WHERE (keyword like '%7%' or aliases like '%7%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-13 11:32:24' WHERE `inbound_messages`.`id` = 160
  [1m[36m (30.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 270ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=160&user_id=2&service=M&dest=+250788462149&sender=44801&content=Sonnerie+non+disponible&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-13 13:32:24 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"160", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Sonnerie non disponible", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (10.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Sonnerie non disponible', '2012-05-13 11:32:24', ' 250788462149', 160, '44801', 'M', 'delivered', 'delivered', '2012-05-13 11:32:24', 2)[0m
  [1m[35m (70.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 100ms (Views: 10.0ms | ActiveRecord: 90.0ms)


Started GET "/service_manager/record_push?inbound_id=160&user_id=2&service=M&dest=+250788462149&sender=44801&content=Sonnerie+non+disponible&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-13 13:32:25 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"160", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Sonnerie non disponible", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Sonnerie non disponible', '2012-05-13 11:32:25', ' 250788462149', 160, '44801', 'M', 'submitted', 'submitted', '2012-05-13 11:32:25', 2)
  [1m[36m (60.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 10.0ms | ActiveRecord: 60.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m7&content=m7" for 127.0.0.1 at 2012-05-13 13:34:39 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m7", "content"=>"m7"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 7', '2012-05-13 11:34:39', '44800', 0, '+250788462149', 3, 'pending', 'Vodacom DRC', '', '2012-05-13 11:34:39', 2)
  [1m[36m (140.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1[0m
id=7&origin=+250788462149&destination=44800&message=m 7&service=3
  [1m[35mRingtone Load (0.0ms)[0m  SELECT `ringtones`.* FROM `ringtones` WHERE (keyword='7' or aliases='7) LIMIT 1
Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''7) LIMIT 1' at line 1: SELECT  `ringtones`.* FROM `ringtones`  WHERE (keyword='7' or aliases='7) LIMIT 1
Completed 500 Internal Server Error in 230ms

ActiveRecord::StatementInvalid (Mysql2::Error: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''7) LIMIT 1' at line 1: SELECT  `ringtones`.* FROM `ringtones`  WHERE (keyword='7' or aliases='7) LIMIT 1):
  app/controllers/service_manager_controller.rb:342:in `get_ringtone'
  app/controllers/service_manager_controller.rb:287:in `web_service_request'
  app/controllers/service_manager_controller.rb:98:in `block in request_handler'

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_trace.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.0ms)
Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (0.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m7&content=m7" for 127.0.0.1 at 2012-05-13 13:34:57 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m7", "content"=>"m7"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 7', '2012-05-13 11:34:57', '44800', 0, '+250788462149', 3, 'pending', 'Vodacom DRC', '', '2012-05-13 11:34:57', 2)[0m
  [1m[35m (120.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1
id=7&origin=+250788462149&destination=44800&message=m 7&service=3
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` WHERE (keyword='7' or aliases='7') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mUPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-13 11:34:57' WHERE `inbound_messages`.`id` = 162[0m
  [1m[35m (30.0ms)[0m  COMMIT
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 2 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 3 LIMIT 1
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 300ms (Views: 20.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=162&user_id=2&service=M&dest=+250788462149&sender=44801&content=Sonnerie+non+disponible&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-13 13:34:57 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"162", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Sonnerie non disponible", "smsc"=>"FAKE", "status"=>"1"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Sonnerie non disponible', '2012-05-13 11:34:57', ' 250788462149', 162, '44801', 'M', 'delivered', 'delivered', '2012-05-13 11:34:57', 2)
  [1m[36m (40.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 50ms (Views: 0.0ms | ActiveRecord: 40.0ms)


Started GET "/service_manager/record_push?inbound_id=162&user_id=2&service=M&dest=+250788462149&sender=44801&content=Sonnerie+non+disponible&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-13 13:34:57 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"162", "user_id"=>"2", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Sonnerie non disponible", "smsc"=>"FAKE", "status"=>"8"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Sonnerie non disponible', '2012-05-13 11:34:57', ' 250788462149', 162, '44801', 'M', 'submitted', 'submitted', '2012-05-13 11:34:57', 2)[0m
  [1m[35m (50.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 60ms (Views: 0.0ms | ActiveRecord: 50.0ms)


Started GET "/messages/inbound" for 127.0.0.1 at 2012-05-13 13:37:26 +0200
  Processing by MessagesController#inbound as HTML
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` IS NULL LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 10ms


Started GET "/" for 127.0.0.1 at 2012-05-13 13:37:27 +0200
  Processing by HomeController#index as HTML
Rendered home/index.html.erb within layouts/home (10.0ms)
Completed 200 OK in 150ms (Views: 150.0ms | ActiveRecord: 0.0ms)


Started GET "/login/login" for 127.0.0.1 at 2012-05-13 13:37:31 +0200
  Processing by LoginController#login as HTML
Rendered login/login.html.erb within layouts/application (0.0ms)
Compiled main.css  (29ms)  (pid 15704)
Completed 200 OK in 40ms (Views: 30.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-13 13:37:31 +0200
Served asset /main.css - 200 OK (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-13 13:37:31 +0200
Served asset /jquery.js - 200 OK (0ms)


Started GET "/login/ezgate.ico" for 127.0.0.1 at 2012-05-13 13:37:31 +0200
  Processing by LoginController#show as 
  Parameters: {"id"=>"ezgate"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` IS NULL LIMIT 1
Redirected to http://localhost:3000/
Completed 302 Found in 20ms


Started GET "/login/ezgate.ico" for 127.0.0.1 at 2012-05-13 13:37:31 +0200
  Processing by LoginController#show as 
  Parameters: {"id"=>"ezgate"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` IS NULL LIMIT 1[0m
Redirected to http://localhost:3000/
Completed 302 Found in 10ms


Started GET "/" for 127.0.0.1 at 2012-05-13 13:37:31 +0200
  Processing by HomeController#index as HTML
Rendered home/index.html.erb within layouts/home (0.0ms)
Completed 200 OK in 10ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started POST "/login/login" for 127.0.0.1 at 2012-05-13 13:37:36 +0200
  Processing by LoginController#login as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ywsXDKvtw92mGAfCbZlgBBqdS5BIQ8c7X6U8GB12quo=", "username"=>"sa", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1
Rendered login/login.html.erb within layouts/application (0.0ms)
Completed 200 OK in 20ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-13 13:37:36 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-13 13:37:36 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started POST "/login/login" for 127.0.0.1 at 2012-05-13 13:37:40 +0200
  Processing by LoginController#login as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ywsXDKvtw92mGAfCbZlgBBqdS5BIQ8c7X6U8GB12quo=", "username"=>"sa", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUserDetail Load (0.0ms)[0m  [1mSELECT `user_details`.* FROM `user_details` WHERE `user_details`.`username` = 'sa' LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT user_short_codes.user_id, short_codes.code, short_codes.id FROM `short_codes` left join user_short_codes on user_short_codes.short_code_id=short_codes.id WHERE (user_short_codes.user_id = 1)[0m
Redirected to http://localhost:3000/messages
Completed 302 Found in 160ms


Started GET "/messages" for 127.0.0.1 at 2012-05-13 13:37:41 +0200
  Processing by MessagesController#index as HTML
  [1m[35mUserDetail Load (0.0ms)[0m  SELECT `user_details`.* FROM `user_details` WHERE `user_details`.`id` = 1 LIMIT 1
  [1m[36mService Load (0.0ms)[0m  [1mSELECT `services`.* FROM `services` [0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '1' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '2' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '3' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '4' and date(created_at) = curdate())[0m
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '5' and date(created_at) = curdate())
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM `inbound_messages` WHERE (service_id = '6' and date(created_at) = curdate())[0m
Rendered messages/index.html.erb within layouts/application (10.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 LIMIT 1
Completed 200 OK in 80ms (Views: 30.0ms | ActiveRecord: 10.0ms)


Started GET "/assets/main.css?body=1" for 127.0.0.1 at 2012-05-13 13:37:41 +0200
Served asset /main.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2012-05-13 13:37:41 +0200
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/ezgate.ico" for 127.0.0.1 at 2012-05-13 13:37:41 +0200

ActionController::RoutingError (No route matches [GET] "/ezgate.ico"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.0ms)


Started GET "/ezgate.ico" for 127.0.0.1 at 2012-05-13 13:37:41 +0200

ActionController::RoutingError (No route matches [GET] "/ezgate.ico"):
  

Rendered /home/mutesa/.rvm/gems/ruby-1.9.2-p290/gems/actionpack-3.1.3/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m7&content=m7" for 127.0.0.1 at 2012-05-13 13:38:12 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m7", "content"=>"m7"}
  [1m[36mService Load (0.0ms)[0m  [1mSELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 7', '2012-05-13 11:38:12', '44800', 0, '+250788462149', 4, 'pending', 'Vodacom DRC', '', '2012-05-13 11:38:12', 4)[0m
  [1m[35m (140.0ms)[0m  COMMIT
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 4 LIMIT 1[0m
  [1m[35mWebService Load (0.0ms)[0m  SELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1
id=7&origin=+250788462149&destination=44800&message=m 7&service=4
  [1m[36mRingtone Load (0.0ms)[0m  [1mSELECT `ringtones`.* FROM `ringtones` WHERE (keyword='7' or aliases='7') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `ringtone_access_keys` (`created_at`, `expires_at`, `key`, `req_status`, `ringtone_id`, `updated_at`, `used_at`) VALUES ('2012-05-13 11:38:12', '2012-05-13 11:44:12', '5660', 'unused', 7, '2012-05-13 11:38:12', NULL)[0m
  [1m[35m (50.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'success', `updated_at` = '2012-05-13 11:38:12' WHERE `inbound_messages`.`id` = 2567
  [1m[36m (30.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 4 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (10.0ms)
Completed 200 OK in 610ms (Views: 90.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/record_push?inbound_id=2567&user_id=4&service=M&dest=+250788462149&sender=44801&content=Allez+sur+http%3A%2F%2Fwww.vodafun.net%2Fhome%2Fringtone%3Fid%3D7+et+telecharger+votre+sonnerie+a+l%27aide+du+code+secret+suivant+%3A%0A5660&smsc=FAKE&status=1" for 127.0.0.1 at 2012-05-13 13:38:12 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"2567", "user_id"=>"4", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Allez sur http://www.vodafun.net/home/ringtone?id=7 et telecharger votre sonnerie a l'aide du code secret suivant :\n5660", "smsc"=>"FAKE", "status"=>"1"}
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Allez sur http://www.vodafun.net/home/ringtone?id=7 et telecharger votre sonnerie a l\'aide du code secret suivant :\n5660', '2012-05-13 11:38:12', ' 250788462149', 2567, '44801', 'M', 'delivered', 'delivered', '2012-05-13 11:38:12', 4)[0m
  [1m[35m (70.0ms)[0m  COMMIT
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 80ms (Views: 0.0ms | ActiveRecord: 70.0ms)


Started GET "/service_manager/record_push?inbound_id=2567&user_id=4&service=M&dest=+250788462149&sender=44801&content=Allez+sur+http%3A%2F%2Fwww.vodafun.net%2Fhome%2Fringtone%3Fid%3D7+et+telecharger+votre+sonnerie+a+l%27aide+du+code+secret+suivant+%3A%0A5660&smsc=FAKE&status=8" for 127.0.0.1 at 2012-05-13 13:38:12 +0200
  Processing by ServiceManagerController#record_push as HTML
  Parameters: {"inbound_id"=>"2567", "user_id"=>"4", "service"=>"M", "dest"=>" 250788462149", "sender"=>"44801", "content"=>"Allez sur http://www.vodafun.net/home/ringtone?id=7 et telecharger votre sonnerie a l'aide du code secret suivant :\n5660", "smsc"=>"FAKE", "status"=>"8"}
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `outbound_messages` (`content`, `created_at`, `destination`, `inbound_id`, `sender`, `service`, `status`, `status_message`, `updated_at`, `user_id`) VALUES ('Allez sur http://www.vodafun.net/home/ringtone?id=7 et telecharger votre sonnerie a l\'aide du code secret suivant :\n5660', '2012-05-13 11:38:12', ' 250788462149', 2567, '44801', 'M', 'submitted', 'submitted', '2012-05-13 11:38:12', 4)
  [1m[36m (60.0ms)[0m  [1mCOMMIT[0m
Rendered service_manager/record_push.html.erb within layouts/application (0.0ms)
Completed 200 OK in 90ms (Views: 0.0ms | ActiveRecord: 60.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m&content=m+2" for 127.0.0.1 at 2012-05-13 13:48:16 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m", "content"=>"m 2"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 2', '2012-05-13 11:48:16', '44800', 0, '+250788462149', 4, 'pending', 'Vodacom DRC', '', '2012-05-13 11:48:17', 4)
  [1m[36m (120.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 4 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1[0m
id=2&origin=+250788462149&destination=44800&message=m 2&service=4
  [1m[35mRingtone Load (0.0ms)[0m  SELECT `ringtones`.* FROM `ringtones` WHERE (keyword='2' or aliases='2') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-13 11:48:17' WHERE `inbound_messages`.`id` = 2568
  [1m[36m (60.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 4 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 310ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m&content=m" for 127.0.0.1 at 2012-05-13 13:48:20 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m", "content"=>"m"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m ', '2012-05-13 11:48:20', '44800', 0, '+250788462149', 4, 'pending', 'Vodacom DRC', '', '2012-05-13 11:48:20', 4)
  [1m[36m (130.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 4 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mUPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-13 11:48:21' WHERE `inbound_messages`.`id` = 2569[0m
  [1m[35m (40.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `status_message` = 'Invalid parameters\n', `updated_at` = '2012-05-13 11:48:21' WHERE `inbound_messages`.`id` = 2569
  [1m[36m (30.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 4 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 300ms (Views: 0.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m4&content=m4" for 127.0.0.1 at 2012-05-13 13:49:08 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m4", "content"=>"m4"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 4', '2012-05-13 11:49:08', '44800', 0, '+250788462149', 4, 'pending', 'Vodacom DRC', '', '2012-05-13 11:49:08', 4)
  [1m[36m (130.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 4 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1[0m
id=4&origin=+250788462149&destination=44800&message=m 4&service=4
  [1m[35mRingtone Load (0.0ms)[0m  SELECT `ringtones`.* FROM `ringtones` WHERE (keyword='4' or aliases='4') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-13 11:49:08' WHERE `inbound_messages`.`id` = 2570
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 4 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 340ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m4&content=m4" for 127.0.0.1 at 2012-05-13 13:49:13 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m4", "content"=>"m4"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 4', '2012-05-13 11:49:14', '44800', 0, '+250788462149', 4, 'pending', 'Vodacom DRC', '', '2012-05-13 11:49:14', 4)
  [1m[36m (100.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 4 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1[0m
id=4&origin=+250788462149&destination=44800&message=m 4&service=4
  [1m[35mRingtone Load (0.0ms)[0m  SELECT `ringtones`.* FROM `ringtones` WHERE (keyword='4' or aliases='4') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  UPDATE `inbound_messages` SET `service_status` = 'failed', `updated_at` = '2012-05-13 11:49:14' WHERE `inbound_messages`.`id` = 2571
  [1m[36m (40.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1
  [1m[36mShortCode Load (0.0ms)[0m  [1mSELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 4 LIMIT 1[0m
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 300ms (Views: 10.0ms | ActiveRecord: 0.0ms)


Started GET "/service_manager/request_handler?smsc=FAKE&sender=%2B250788462149&destination=44800&keyword=m44&content=m44" for 127.0.0.1 at 2012-05-13 13:49:17 +0200
  Processing by ServiceManagerController#request_handler as HTML
  Parameters: {"smsc"=>"FAKE", "sender"=>"+250788462149", "destination"=>"44800", "keyword"=>"m44", "content"=>"m44"}
  [1m[35mService Load (0.0ms)[0m  SELECT services.id as service_id, services.user_id, services.status, services.content_type, services.reply, services.reply_content, services.web_service_id,services.user_short_code_id, services.name, services.keyword, services.aliases, short_codes.id, short_codes.code, short_codes.smsc FROM `services` left join short_codes on short_codes.code='44800' WHERE (keyword = 'm' or aliases like '%m%') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `inbound_messages` (`content`, `created_at`, `destination`, `read_status`, `sender`, `service_id`, `service_status`, `smsc`, `status_message`, `updated_at`, `user_id`) VALUES ('m 44', '2012-05-13 11:49:17', '44800', 0, '+250788462149', 4, 'pending', 'Vodacom DRC', '', '2012-05-13 11:49:17', 4)
  [1m[36m (130.0ms)[0m  [1mCOMMIT[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 4 LIMIT 1
  [1m[36mWebService Load (0.0ms)[0m  [1mSELECT `web_services`.* FROM `web_services` WHERE (id = '2') LIMIT 1[0m
id=44&origin=+250788462149&destination=44800&message=m 44&service=4
  [1m[35mRingtone Load (0.0ms)[0m  SELECT `ringtones`.* FROM `ringtones` WHERE (keyword='44' or aliases='44') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO `ringtone_access_keys` (`created_at`, `expires_at`, `key`, `req_status`, `ringtone_id`, `updated_at`, `used_at`) VALUES ('2012-05-13 11:49:18', '2012-05-13 11:55:18', '2351', 'unused', 5, '2012-05-13 11:49:18', NULL)
  [1m[36m (50.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mUPDATE `inbound_messages` SET `service_status` = 'success', `updated_at` = '2012-05-13 11:49:18' WHERE `inbound_messages`.`id` = 2572[0m
  [1m[35m (30.0ms)[0m  COMMIT
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 4 LIMIT 1[0m
  [1m[35mShortCode Load (0.0ms)[0m  SELECT `short_codes`.* FROM `short_codes` WHERE `short_codes`.`id` = 4 LIMIT 1
Rendered service_manager/request_handler.html.erb within layouts/application (0.0ms)
Completed 200 OK in 380ms (Views: 0.0ms | ActiveRecord: 0.0ms)
